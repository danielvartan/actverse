[{"path":[]},{"path":"https://danielvartan.github.io/actverse/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://danielvartan.github.io/actverse/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others‚Äô private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://danielvartan.github.io/actverse/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://danielvartan.github.io/actverse/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official email address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://danielvartan.github.io/actverse/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement danvartan@gmail.com. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://danielvartan.github.io/actverse/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://danielvartan.github.io/actverse/CODE_OF_CONDUCT.html","id":"id_1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"https://danielvartan.github.io/actverse/CODE_OF_CONDUCT.html","id":"id_2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://danielvartan.github.io/actverse/CODE_OF_CONDUCT.html","id":"id_3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://danielvartan.github.io/actverse/CODE_OF_CONDUCT.html","id":"id_4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://danielvartan.github.io/actverse/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired Mozilla‚Äôs code conduct enforcement ladder. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"https://danielvartan.github.io/actverse/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to actverse","title":"Contributing to actverse","text":"First , thank considering contribution actverse! interest involvement make rewarding us‚Äîproject maintainers‚Äîcontinue developing improving actverse. actverse open source project, maintained people care. directly funded .","code":""},{"path":"https://danielvartan.github.io/actverse/CONTRIBUTING.html","id":"how-you-can-contribute","dir":"","previous_headings":"","what":"How You Can Contribute","title":"Contributing to actverse","text":"several ways can contribute project. want know contribute open source projects like one, see Open Source Guide.","code":""},{"path":"https://danielvartan.github.io/actverse/CONTRIBUTING.html","id":"give-it-a-star-","dir":"","previous_headings":"How You Can Contribute","what":"Give It a Star ‚≠ê","title":"Contributing to actverse","text":"find actverse helpful, please consider starring repository GitHub. helps others discover project shows support!","code":""},{"path":"https://danielvartan.github.io/actverse/CONTRIBUTING.html","id":"share-actverse-with-others-","dir":"","previous_headings":"How You Can Contribute","what":"Share actverse with Others üì£","title":"Contributing to actverse","text":"Think actverse useful? Let others discover , telling person, via Twitter blog post.","code":""},{"path":"https://danielvartan.github.io/actverse/CONTRIBUTING.html","id":"sponsor-actverse-","dir":"","previous_headings":"How You Can Contribute","what":"Sponsor actverse üíñ","title":"Contributing to actverse","text":"want support actverse development, consider sponsoring project. support helps us maintain improve project, allows us dedicate time development. Don‚Äôt forget mention actverse sponsorship message.","code":""},{"path":"https://danielvartan.github.io/actverse/CONTRIBUTING.html","id":"cite-actverse-in-your-work-","dir":"","previous_headings":"How You Can Contribute","what":"Cite actverse in Your Work üìù","title":"Contributing to actverse","text":"using actverse publication project? Please consider citing . Citations help support project demonstrate impact community.","code":""},{"path":"https://danielvartan.github.io/actverse/CONTRIBUTING.html","id":"propose-an-idea-","dir":"","previous_headings":"How You Can Contribute","what":"Propose an Idea üí°","title":"Contributing to actverse","text":"idea new actverse feature? Take look documentation [issue list][issue] see isn‚Äôt included suggested yet. , suggest idea [issue GitHub][issue]. can‚Äôt promise implement idea, helps : Explain detail work. Keep scope narrow possible. See want contribute code idea well.","code":""},{"path":"https://danielvartan.github.io/actverse/CONTRIBUTING.html","id":"report-a-bug-","dir":"","previous_headings":"How You Can Contribute","what":"Report a Bug üêõ","title":"Contributing to actverse","text":"Using actverse discovered bug? ‚Äôs annoying! Don‚Äôt let others experience report issue GitHub can fix . good bug report makes easier us , please include: content utils::sessionInfo(). details local setup might helpful troubleshooting. Detailed steps reproduce bug (Tip: Use reprex package).","code":""},{"path":"https://danielvartan.github.io/actverse/CONTRIBUTING.html","id":"improve-the-documentation-","dir":"","previous_headings":"How You Can Contribute","what":"Improve the Documentation üìñ","title":"Contributing to actverse","text":"Noticed typo website? Think function use better example? Good documentation makes difference, help improve welcome!","code":""},{"path":"https://danielvartan.github.io/actverse/CONTRIBUTING.html","id":"the-website","dir":"","previous_headings":"How You Can Contribute > Improve the Documentation üìñ","what":"The Website","title":"Contributing to actverse","text":"website generated pkgdown. means don‚Äôt write HTML: Content pulled together documentation code, vignettes, Markdown files, package DESCRIPTION _pkgdown.yml settings. know way around pkgdown, can propose file change improve documentation.","code":""},{"path":"https://danielvartan.github.io/actverse/CONTRIBUTING.html","id":"function-documentation","dir":"","previous_headings":"How You Can Contribute > Improve the Documentation üìñ","what":"Function Documentation","title":"Contributing to actverse","text":"Functions described comments near code translated documentation using roxygen2. want improve function description: Go R/ directory code repository. Look file function. Propose file change update function documentation roxygen comments (starting #').","code":""},{"path":"https://danielvartan.github.io/actverse/CONTRIBUTING.html","id":"contribute-code-","dir":"","previous_headings":"How You Can Contribute","what":"Contribute Code üìù","title":"Contributing to actverse","text":"Care fix bugs implement new functionality actverse? Awesome! üëè look issue list leave comment things want work . See also development guidelines .","code":""},{"path":"https://danielvartan.github.io/actverse/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to actverse","text":"Please note project released Contributor Code Conduct. participating project agree abide terms.","code":""},{"path":"https://danielvartan.github.io/actverse/CONTRIBUTING.html","id":"development-guidelines","dir":"","previous_headings":"","what":"Development Guidelines","title":"Contributing to actverse","text":"follow GitHub flow development. means changes made feature branches, submitted pull requests, reviewed merging main branch. Please keep branches focused single topic fix make reviews easier project history clearer. steps follow: Fork repo clone computer. learn process, see guide. forked cloned project , since worked , pull changes original repo clone using git pull upstream main. Open project RStudio IDE choice. Write code. Test code (Bonus points adding unit tests). Document code (See function documentation ). Check code devtools::check() aim 0 errors, warnings, notes. Commit push changes. Submit pull request. Please ensure code adheres tidyverse design guide tidyverse style guide. contributions follow principles conventions maintain consistency readability throughout project.","code":""},{"path":"https://danielvartan.github.io/actverse/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 Daniel Vartanian Permission hereby granted, free charge, person obtaining copy software associated documentation files (‚ÄúSoftware‚Äù), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED ‚Äú‚Äù, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://danielvartan.github.io/actverse/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Daniel Vartanian. Author, maintainer, conceptor, copyright holder. Vinicius Alves Matias. Author. Cassio Almeida Mattos Serrano. Author. Bruno Ramalho Furlan. Contributor. Ana Am√©lia Benedito-Silva. Author, scientific advisor.","code":""},{"path":"https://danielvartan.github.io/actverse/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Vartanian, D., Matias, V. ., Serrano, C. . M., & Benedito-Silva, . . (2025). {actverse}: Tidyverse-style toolbox actigraphy data analysis [Computer software, R package]. https://danielvartan.github.io/actverse/","code":"@Misc{,   title = {{actverse}: A Tidyverse-style toolbox for actigraphy data analysis},   author = {Daniel Vartanian and Vinicius Alves Matias and Cassio Almeida Mattos Serrano and Ana Am√©lia Benedito-Silva},   year = {2025},   url = {https://danielvartan.github.io/actverse/},   note = {R package}, }"},{"path":[]},{"path":"https://danielvartan.github.io/actverse/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"A Tidyverse-Style Toolbox for Actigraphy Data Analysis","text":"actverse R package offers comprehensive toolkit processing, analyzing, visualizing actigraphy data. designed support sleep chronobiology researchers streamlining workflows enhancing reproducibility actigraphy research. package built tidyverse principles integrates seamlessly tidyverse ecosystem, ensuring consistent user-friendly experience data manipulation analysis. find project useful, please consider giving star! ¬†","code":""},{"path":"https://danielvartan.github.io/actverse/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"A Tidyverse-Style Toolbox for Actigraphy Data Analysis","text":"can install actverse using remotes package:","code":"remotes::install_github(\"danielvartan/actverse\")"},{"path":"https://danielvartan.github.io/actverse/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"A Tidyverse-Style Toolbox for Actigraphy Data Analysis","text":"R ecosystem offers wide variety time series standards, selecting right one important decision developing actverse. consistent standard time objects essential, time can represented many ways may based different numerical systems. packages follow tidyverse principles, believe tsibble package provides best time series standard. name suggests, tsibble extends tidyverse tibble object time series data. actverse functions require data tsibble format. Converting data straightforward can significantly improve experience working time series R. Please refer tsibble documentation guidance adapting data.","code":""},{"path":"https://danielvartan.github.io/actverse/index.html","id":"readwrite","dir":"","previous_headings":"Usage","what":"Read/Write","title":"A Tidyverse-Style Toolbox for Actigraphy Data Analysis","text":"read_acttrust(): Read, tidy, validate ActTrust file. write_acttrust(): Write tsibble readable ActTrust file. Example:","code":"file <- get_from_zenodo(   doi = \"10.5281/zenodo.4898822\",   dir = tempdir(),   file = \"processed.txt\" ) data <- file |> read_acttrust(tz = \"America/Sao_Paulo\") library(dplyr)  data |> glimpse() #> Rows: 51,806 #> Columns: 17 #> $ timestamp            <dttm> 2021-04-24 04:14:00, 2021-04-24 04:15:00, 202‚Ä¶ #> $ pim                  <dbl> 7815, 2661, 3402, 4580, 2624, 3929, 5812, 3182‚Ä¶ #> $ tat                  <dbl> 608, 160, 243, 317, 255, 246, 369, 270, 373, 1‚Ä¶ #> $ zcm                  <dbl> 228, 64, 80, 125, 33, 105, 171, 54, 189, 64, 6‚Ä¶ #> $ orientation          <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0‚Ä¶ #> $ wrist_temperature    <dbl> 26.87, 27.18, 27.68, 27.86, 28.04, 28.13, 28.2‚Ä¶ #> $ external_temperature <dbl> 24.62, 25.06, 25.50, 25.75, 25.94, 26.06, 26.3‚Ä¶ #> $ light                <dbl> 3.58, 5.23, 3.93, 4.14, 3.16, 3.63, 11.53, 2.4‚Ä¶ #> $ ambient_light        <dbl> 1.45, 2.12, 1.59, 1.68, 1.28, 1.47, 4.67, 0.97‚Ä¶ #> $ red_light            <dbl> 0.57, 0.86, 0.64, 0.67, 0.51, 0.56, 3.22, 0.37‚Ä¶ #> $ green_light          <dbl> 0.66, 0.95, 0.71, 0.75, 0.57, 0.68, 3.49, 0.44‚Ä¶ #> $ blue_light           <dbl> 0.24, 0.36, 0.26, 0.28, 0.21, 0.30, 1.48, 0.20‚Ä¶ #> $ ir_light             <dbl> 0.17, 0.25, 0.20, 0.20, 0.16, 0.18, 1.00, 0.13‚Ä¶ #> $ uva_light            <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0‚Ä¶ #> $ uvb_light            <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0‚Ä¶ #> $ event                <dbl> 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0‚Ä¶ #> $ state                <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0‚Ä¶"},{"path":"https://danielvartan.github.io/actverse/index.html","id":"sleep-statistics","dir":"","previous_headings":"Usage","what":"Sleep Statistics","title":"A Tidyverse-Style Toolbox for Actigraphy Data Analysis","text":"sri(): Compute Phillips et al.¬†Sleep Regularity Index (SRI). state_prop(): Compute proportion time spent specific state (e.g., Sleeping, Awake). Example: Compare results actogram plot shown following sections.","code":"sri_data <- data |> sri()  sri_data #> # A tsibble: 1,440 x 5 [1m] #>   time   state      previous_state agreement    sri #>   <time> <list>     <list>         <list>     <dbl> #> 1 00'00\" <fct [36]> <fct [36]>     <lgl [36]>  77.1 #> 2 01'00\" <fct [36]> <fct [36]>     <lgl [36]>  77.1 #> 3 02'00\" <fct [36]> <fct [36]>     <lgl [36]>  77.1 #> 4 03'00\" <fct [36]> <fct [36]>     <lgl [36]>  77.1 #> 5 04'00\" <fct [36]> <fct [36]>     <lgl [36]>  77.1 #> 6 05'00\" <fct [36]> <fct [36]>     <lgl [36]>  77.1 #> # ‚Ñπ 1,434 more rows library(rutils) # github.com/danielvartan/rutils  sri_data |>   rutils:::stats_summary(\"sri\", threshold = NULL) |>   print(n = Inf) #> # A tibble: 15 √ó 2 #>    name     value              #>    <chr>    <chr>              #>  1 n        1440               #>  2 n_rm_na  1440               #>  3 n_na     0                  #>  4 mean     58.7795701029482   #>  5 var      785.141504008496   #>  6 sd       28.0203765857723   #>  7 min      -25                #>  8 q_1      37.1428571428571   #>  9 median   63.6363636363637   #> 10 q_3      86.6666666666667   #> 11 max      100                #> 12 iqr      49.5238095238095   #> 13 range    125                #> 14 skewness -0.401815749365758 #> 15 kurtosis 2.10073487543524 library(ggplot2) library(scales)  sri_data |>   ggplot(ggplot2::aes(x = time, y = sri)) +   geom_smooth(color = \"#FC2913\") +   labs(     x = \"Time of day (Hour)\",     y = \"Sleep Regularity Index (SRI)\"   ) +   scale_x_time(     breaks = breaks_width(\"6 hours\"),     labels = label_time(\"%-H\") # Use \"%#H\" for Windows   ) +   scale_y_continuous(limits = c(0, NA)) +   actverse:::get_actverse_theme()"},{"path":"https://danielvartan.github.io/actverse/index.html","id":"period-functions","dir":"","previous_headings":"Usage","what":"Period Functions","title":"A Tidyverse-Style Toolbox for Actigraphy Data Analysis","text":"periodogram(): Compute Sokolove & Bushell‚Äôs \\(\\chi^{2}\\) periodogram. spectrogram(): Create spectrogram plot based Sokolove & Bushell‚Äôs \\(\\chi^{2}\\) periodogram. Example:","code":"data |> periodogram(\"pim\") data |> spectrogram(\"pim\")"},{"path":"https://danielvartan.github.io/actverse/index.html","id":"data-visualization","dir":"","previous_headings":"Usage","what":"Data Visualization","title":"A Tidyverse-Style Toolbox for Actigraphy Data Analysis","text":"strongly recommend using ragg package backend graphics device complex data visualizations. faster produces higher quality images R default graphics device. actogram(): Create actogram plot actigraphy data.","code":"data |>   actogram(     col = \"pim\",     days = -1,     latitude = -23.55065,     longitude = -46.63338,     double_plot = TRUE   )"},{"path":"https://danielvartan.github.io/actverse/index.html","id":"data-interpolation","dir":"","previous_headings":"Usage","what":"Data Interpolation","title":"A Tidyverse-Style Toolbox for Actigraphy Data Analysis","text":"na_approx() na_locf() na_overall_mean() na_overall_median() na_overall_mode() na_spline() na_weekly_mean() na_zero() na_plot(): Interpolate missing values numeric vector. Example:","code":"x <- c(NA, 1, 5, 10, NA, 5, 10, 1, NA, 10, 1, 5, NA, NA) index <- seq(as.Date(\"2020-01-01\"), as.Date(\"2020-01-14\"), by = \"day\")  na_approx(x, index, fill_na_tips = TRUE) #>  [1]  1.0  1.0  5.0 10.0  7.5  5.0 10.0  1.0  5.5 10.0  1.0  5.0  5.0  5.0 na_plot(x, index, na_approx(x, index, fill_na_tips = TRUE))"},{"path":"https://danielvartan.github.io/actverse/index.html","id":"api-clients","dir":"","previous_headings":"Usage","what":"API Clients","title":"A Tidyverse-Style Toolbox for Actigraphy Data Analysis","text":"get_from_zenodo(): Get data Zenodo record. get_sun_stats(): Get sun related statistics different APIs. Example:","code":"library(rutils) # github.com/danielvartan/rutils  get_sun_stats(   latitude = -23.5489,   longitude = -46.6388,   tz = \"America/Sao_Paulo\" ) |>   rutils:::list_as_tibble() |>   print(n = Inf) #> # A tibble: 18 √ó 2 #>    name              value             #>    <chr>             <chr>             #>  1 date              2025-06-05        #>  2 latitude          -23.5489          #>  3 longitude         -46.6388          #>  4 tz                America/Sao_Paulo #>  5 sunrise_start     06:44:16          #>  6 sunrise_end       06:46:50          #>  7 golden_hour_end   07:17:28          #>  8 solar_noon        12:06:31          #>  9 golden_hour_start 16:55:34          #> 10 sunset_start      17:26:13          #> 11 sunset_end        17:28:46          #> 12 dusk              17:53:17          #> 13 nautical_dusk     18:21:18          #> 14 night_start       18:48:54          #> 15 nadir             00:06:31          #> 16 night_end         05:24:08          #> 17 nautical_dawn     05:51:44          #> 18 dawn              06:19:45"},{"path":"https://danielvartan.github.io/actverse/index.html","id":"other-features","dir":"","previous_headings":"Usage","what":"Other Features","title":"A Tidyverse-Style Toolbox for Actigraphy Data Analysis","text":"actverse also comes many utility functions provides actigraphy datasets testing learning purposes. functions thoroughly documented, detailed explanations underlying methodologies computational guidelines. complete list available functions documentation, click . Example:","code":"file |>   read_acttrust(regularize = FALSE) |>   find_epoch() #> $best_match #> [1] 60 #>  #> $prevalence #> # A tibble: 4 √ó 2 #>   epoch proportion #>   <dbl>      <dbl> #> 1    60  1.00      #> 2    86  0.0000193 #> 3    94  0.0000193 #> 4   101  0.0000193"},{"path":"https://danielvartan.github.io/actverse/index.html","id":"how-to-cite","dir":"","previous_headings":"","what":"How to Cite","title":"A Tidyverse-Style Toolbox for Actigraphy Data Analysis","text":"","code":"citation(\"actverse\") #> To cite {actverse} in publications use: #>  #>   Vartanian, D., Matias, V. A., Serrano, C. A. M., & Benedito-Silva, #>   A. A. (2025). {actverse}: A Tidyverse-style toolbox for actigraphy #>   data analysis [Computer software, R package]. #>   https://danielvartan.github.io/actverse/ #>  #> A BibTeX entry for LaTeX users is #>  #>   @Misc{, #>     title = {{actverse}: A Tidyverse-style toolbox for actigraphy data analysis}, #>     author = {Daniel Vartanian and Vinicius Alves Matias and Cassio Almeida Mattos Serrano and Ana Am√©lia Benedito-Silva}, #>     year = {2025}, #>     url = {https://danielvartan.github.io/actverse/}, #>     note = {R package}, #>   }"},{"path":"https://danielvartan.github.io/actverse/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"A Tidyverse-Style Toolbox for Actigraphy Data Analysis","text":"actverse code released MIT license. means can use, modify, distribute code freely, long include original license copyright notice copies substantial portions software.","code":""},{"path":"https://danielvartan.github.io/actverse/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"A Tidyverse-Style Toolbox for Actigraphy Data Analysis","text":"Contributions welcome, including bug reports. Take moment review Guidelines Contributing.  can also support development actverse becoming sponsor. Click make donation. Please mention actverse donation message.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/actogram.html","id":null,"dir":"Reference","previous_headings":"","what":"Create an actogram plot from actigraphy data ‚Äî actogram","title":"Create an actogram plot from actigraphy data ‚Äî actogram","text":"actogram() creates actogram plot tsibble time series object, visualizing activity patterns across multiple days.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/actogram.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create an actogram plot from actigraphy data ‚Äî actogram","text":"","code":"actogram(   data,   col = \"pim\",   days = 7,   transform = identity,   state_col = \"state\",   state_alpha = 0.5,   latitude = NULL,   longitude = NULL,   sun_stats_method = \"suncalc\",   labels = NULL,   colors = NULL,   grid = TRUE,   minor_breaks = ggplot2::waiver(),   date_format = \"%a %d/%m\",   locale = get_en_locale(),   double_plot = TRUE,   x_label = NULL,   y_label = NULL,   print = TRUE,   ... )"},{"path":"https://danielvartan.github.io/actverse/reference/actogram.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create an actogram plot from actigraphy data ‚Äî actogram","text":"data tsibble object. col (optional) string indicating column data use area plot (default: \"pim\"). days (optional) number specifying many days display actogram. Use negative value exclude days end record. Set Inf plot available days (default: 7). transform (optional) transformation function apply col (default: identity). state_col (optional) string indicating column data states/categories data (default: NULL). state_alpha (optional) number, 0 1, indicating transparency level state rectangles (default: 0.5). latitude (optional) number indicating latitude decimal degrees must used compute light/dark phase. Set argument NULL light/dark needed. See Details section learn (default: NULL). longitude (optional) number indicating longitude decimal degrees must used compute light/dark phase. Set argument NULL light/dark needed. See Details section learn (default: NULL). sun_stats_method (optional) string indicating method use computing light/dark phase. See get_sun_stats() details (default: \"suncalc\"). labels (optional) named character vector rename states legend. Must include labels used state values, \"base\" (label col), \"lp\" (light phase), \"dp\" (dark phase) applicable. See Details section learn . colors (optional) named character vector colors use label/state. Must include named colors states used labels, well \"base\" (color col), \"lp\" (light phase), \"dp\" (dark phase). See Details section learn . grid (optional) logical flag indicating plot must overlay grid (default: TRUE). minor_breaks (optional) numeric vector indicating minor breaks x-axis (default: waiver()). date_format (optional) Format string passed format() rendering date axis labels (default: \"%%d/%m\"). locale (optional) string indicating locale LC_TIME environment variable must set . used determine language date labels (default: en_US.UTF-8). double_plot (optional) logical flag indicating whether stack 24-hour periods double-plot layout (default: FALSE). x_label (optional) string indicating x-axis label (default: NULL). y_label (optional) string indicating y-axis label (default: NULL). print (optional) logical flag indicating function must print plot (default: TRUE). ... (optional) Additional arguments passed theme().","code":""},{"path":"https://danielvartan.github.io/actverse/reference/actogram.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create an actogram plot from actigraphy data ‚Äî actogram","text":"ggplot object actogram plot.","code":""},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/actogram.html","id":"vertical-lines-in-the-plot","dir":"Reference","previous_headings":"","what":"Vertical lines in the plot","title":"Create an actogram plot from actigraphy data ‚Äî actogram","text":"cases, may notice thin vertical lines actogram visualization. rendering artifact can depend graphic device, graphics card, screen resolution, plot's size. encounter , try resizing plot window (example, making square adjusting dimensions), often resolves problem. also strongly recommend using ragg package rendering graphics, can help avoid artifacts.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/actogram.html","id":"light-dark-phase","dir":"Reference","previous_headings":"","what":"Light/Dark phase","title":"Create an actogram plot from actigraphy data ‚Äî actogram","text":"light/dark phase determined using first timestamp time series. time zone inferred timestamp well. time zone correspond provided latitude longitude, calculated light/dark phases may misaligned.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/actogram.html","id":"transform-argument","dir":"Reference","previous_headings":"","what":"transform argument","title":"Create an actogram plot from actigraphy data ‚Äî actogram","text":"actogram() allows provide function transforming base data. useful dealing extreme ranges. Example:","code":"library(magrittr)  trans_fun <- function(x) {   log(x) |>   inset(log(x) < 1, 1) |>   subtract(1) }  acttrust |>   actogram(     col = \"light\",     days = 1,     transform = trans_fun,     double_plot = FALSE   )"},{"path":"https://danielvartan.github.io/actverse/reference/actogram.html","id":"labels-argument","dir":"Reference","previous_headings":"","what":"labels argument","title":"Create an actogram plot from actigraphy data ‚Äî actogram","text":"labels arguments allow customize labels states actogram. must named character vector, names state values values labels used legend. order labels order labels argument. Example (default setting):","code":"labels <- c(   \"1\" = \"Sleeping\",   \"2\" = \"Resting\",   \"4\" = \"Offwrist\",   \"base\" = \"PIM\",   \"lp\" = \"Light phase\",   \"dp\" = \"Dark phase\" )"},{"path":"https://danielvartan.github.io/actverse/reference/actogram.html","id":"colors-argument","dir":"Reference","previous_headings":"","what":"colors argument","title":"Create an actogram plot from actigraphy data ‚Äî actogram","text":"colors arguments allow customize colors states actogram. Like label argument, must named character vector, names state values values colors used legend. names colors must match names labels. colors follow conventions used ggplot2. can specify either standard color names hexadecimal color codes. Click see ggplot2 color reference. Example (default setting):","code":"colors = c(   \"1\" = \"#410085\",   \"2\" = \"#FFB426\",   \"4\" = \"#FC2913\",   \"base\" = \"#000040\",   \"lp\" = \"#FFFFFF\",   \"dp\" = \"#DBD7D3\" )"},{"path":"https://danielvartan.github.io/actverse/reference/actogram.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create an actogram plot from actigraphy data ‚Äî actogram","text":"","code":"library(curl) #> Using libcurl 8.5.0 with OpenSSL/3.0.13  if (has_internet()) {   file <- get_from_zenodo(     doi = \"10.5281/zenodo.4898822\",     dir = tempdir(),     file = \"processed.txt\"   )    data <- read_acttrust(file, tz = \"America/Sao_Paulo\")    data |>     actogram(       col = \"pim\",       days = 7,       # github.com/danielvartan/orbis       # orbis::get_brazil_state_latitude(\"sp\")       latitude = -23.55065,       # orbis::get_brazil_state_longitude(\"sp\"),       longitude = -46.63338,       double_plot = TRUE     ) } #> ‚Ñπ Downloading metadata #> ‚úî Downloading metadata [1.1s] #>  #> ‚Ñπ Downloading file #> ‚úî Downloading file [8ms] #>  #> ‚Ñπ Checking file integrity #> ‚úî Checking file integrity [17ms] #>  #> ‚Ñπ Reading data #> ‚úî Reading data [386ms] #>  #> ‚Ñπ Tidying data #> ‚úî Tidying data [496ms] #>  #> ‚Ñπ Validating data #> ‚Ñπ Found 2 gap in the time series: 2021-04-26 03:14:00/2021-04-26 03:14:00 and 2021-05-01 17:34:00/2021-05-01 17:34:00 (showing up to a total of 5 values). #> ‚Ñπ Validating data #> ‚Ñπ Found 21 offwrist blocks in the time series. All values were set as NA. #> ‚Ñπ Validating data #> ‚úî Validating data [17.1s] #>"},{"path":"https://danielvartan.github.io/actverse/reference/acttrust.html","id":null,"dir":"Reference","previous_headings":"","what":"An ActTrust 1 actigraphy record ‚Äî acttrust","title":"An ActTrust 1 actigraphy record ‚Äî acttrust","text":"small sample (1 day length) ActTrust (model 1) actigraphy record. ActTrust trademark Condor Instruments Ltda. Note: dataset based older methodologies, since improved replaced. --date recommendations sleep scoring, please refer Brazilian Consensus Actigraphy (Pedrazzoli & Gon√ßalves, 2021).","code":""},{"path":"https://danielvartan.github.io/actverse/reference/acttrust.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"An ActTrust 1 actigraphy record ‚Äî acttrust","text":"","code":"acttrust"},{"path":"https://danielvartan.github.io/actverse/reference/acttrust.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"An ActTrust 1 actigraphy record ‚Äî acttrust","text":"tsibble 17 columns 1,441 rows: timestamp Date time recorded events.  R class: POSIXct. pim Wrist activity Proportional Integral Mode (PIM).  R class: numeric. tat Wrist activity Time Threshold (TAT) mode.  R class: numeric. zcm Wrist activity Zero Crossing Mode (ZCM).  R class: numeric. orientation Device orientation.  R class: numeric. wrist_temperature Wrist temperature degrees Celsius.  R class: numeric. external_temperature External temperature degrees Celsius (unreliable data).  R class: numeric. light Light intensity lux.  R class: numeric. ambient_light Ambient light intensity microwatts/square meter.  R class: numeric. red_light Red light intensity microwatts/square centimeter.  R class: numeric. green_light Green light intensity microwatts/square centimeter.  R class: numeric. blue_light Blue light intensity microwatts/square centimeter.  R class: numeric. ir_light Infrared light intensity microwatts/square centimeter.  R class: numeric. uva_light Ultraviolet light intensity microwatts/square centimeter.  R class: numeric. uvb_light Ultraviolet B light intensity microwatts/square centimeter.  R class: numeric. event binary number indicating moments subject pressed event button: 0 button pressed 1 button pressed. commonly used indicate subject goes sleep wakes .  R class: numeric. state integer number indicating subject state: 0 awake, 1 sleeping, 2 resting, 4 offwrist (device removal), 6 editable state 1, 7 editable state 2, 8 editable state 3. states can assigned specialist validated inference algorithm.  R class: numeric.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/acttrust.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"An ActTrust 1 actigraphy record ‚Äî acttrust","text":"Created Daniel Vartanian (package author).","code":""},{"path":"https://danielvartan.github.io/actverse/reference/acttrust.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"An ActTrust 1 actigraphy record ‚Äî acttrust","text":"dataset created one actverse package authors free kinds use. can download full dataset : https://zenodo.org/record/4898822","code":""},{"path":"https://danielvartan.github.io/actverse/reference/acttrust.html","id":"raw-data","dir":"Reference","previous_headings":"","what":"Raw data","title":"An ActTrust 1 actigraphy record ‚Äî acttrust","text":"raw data dataset can found running following code:","code":"[`get_raw_data(\"acttrust.txt\")`][get_raw_data()]."},{"path":"https://danielvartan.github.io/actverse/reference/acttrust.html","id":"data-munging","dir":"Reference","previous_headings":"","what":"Data munging","title":"An ActTrust 1 actigraphy record ‚Äî acttrust","text":"dataset processed default settings read_acttrust(). Details scoring process can found Metadata section.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/acttrust.html","id":"variable-naming","dir":"Reference","previous_headings":"","what":"Variable naming","title":"An ActTrust 1 actigraphy record ‚Äî acttrust","text":"Variable names follow tidyverse style guide, using lowercase letters underscores ensure clarity consistency.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/acttrust.html","id":"variable-classes","dir":"Reference","previous_headings":"","what":"Variable classes","title":"An ActTrust 1 actigraphy record ‚Äî acttrust","text":"R supports wide variety time series data formats. use tsibble aligns well tidyverse principles offers modern, consistent approach time series data. facilitate interoperability standards, variables stored numeric vectors except index, class POSIXct. design choice ensures data actverse can easily converted formats needed.","code":""},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/acttrust.html","id":"subject","dir":"Reference","previous_headings":"","what":"Subject","title":"An ActTrust 1 actigraphy record ‚Äî acttrust","text":"Age: 35 Gender: Male Height: 180 cm Weight: 85 kg BMI: ~26.235 (overweight)","code":""},{"path":"https://danielvartan.github.io/actverse/reference/acttrust.html","id":"record","dir":"Reference","previous_headings":"","what":"Record","title":"An ActTrust 1 actigraphy record ‚Äî acttrust","text":"Body part: Left wrist (non-dominant wrist) Start: 2021-04-24 04:14:25 End: 2021-05-31 03:39:06 Days: 37 Epoch (sample interval): 60 seconds Mode: PIM, TAT, ZCM TAT Threshold: 1024 Location: S√£o Paulo, SP, Brazil UTC: -3 DST: FALSE Light phase: 06:23:59 - 17:44:58 Dark phase: 17:44:59 - 06:23:58","code":""},{"path":"https://danielvartan.github.io/actverse/reference/acttrust.html","id":"actigraph","dir":"Reference","previous_headings":"","what":"Actigraph","title":"An ActTrust 1 actigraphy record ‚Äî acttrust","text":"Brand: Condor Instruments Model: ActTrust 1 Hardware version: 3.1 Firmware version: 3.7 Manual: 1.0.13 (PT-BR) Software: ActStudio Alpha 1.0.17 (Win | Mac)","code":""},{"path":"https://danielvartan.github.io/actverse/reference/acttrust.html","id":"scoring-algorithm-settings","dir":"Reference","previous_headings":"","what":"Scoring algorithm settings","title":"An ActTrust 1 actigraphy record ‚Äî acttrust","text":"Condor Instruments algorithm version 1.0.17. sleep diary data used scoring.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/acttrust.html","id":"scoring-review","dir":"Reference","previous_headings":"","what":"Scoring review","title":"An ActTrust 1 actigraphy record ‚Äî acttrust","text":"Offwrist periods indicated sudden drops wrist temperature. Micro sleep states (isolated states lasting less 5 minutes) removed. Minor adjustments made sleep onset sleep offset, taking consideration event button sleep diary records.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/acttrust.html","id":"sleep-statistics-settings","dir":"Reference","previous_headings":"","what":"Sleep statistics settings","title":"An ActTrust 1 actigraphy record ‚Äî acttrust","text":"Multiple main sleep periods: TRUE. Main sleep period time day: Day Night. Minimum duration main sleep periods: 01:00:00. Awake period limit: 02:00:00.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/acttrust.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"An ActTrust 1 actigraphy record ‚Äî acttrust","text":"Pedrazzoli, M., Gon√ßalves, B. da S. B., Benedito-Silva, . ., Toscanini, . C., Souza, . P. P. B. de, Conway, B. ., Vartanian, D., Santos, E. H. R., Pires, M. L. N., & Leocadio-Miguel, M. . (2021). Consenso brasileiro de actigrafia. Segmento Farma Editores. doi:10.5281/zenodo.15377336","code":""},{"path":"https://danielvartan.github.io/actverse/reference/actverse-package.html","id":null,"dir":"Reference","previous_headings":"","what":"actverse: A Tidyverse-Style Toolbox for Actigraphy Data Analysis ‚Äî actverse-package","title":"actverse: A Tidyverse-Style Toolbox for Actigraphy Data Analysis ‚Äî actverse-package","text":"comprehensive toolkit process, analyze visualize actigraphy data.","code":""},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/actverse-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"actverse: A Tidyverse-Style Toolbox for Actigraphy Data Analysis ‚Äî actverse-package","text":"Maintainer: Daniel Vartanian danvartan@gmail.com (ORCID) [conceptor, copyright holder] Authors: Vinicius Alves Matias viniciusmatias@usp.br (ORCID) Cassio Almeida Mattos Serrano cassio.serrano@usp.br (ORCID) Ana Am√©lia Benedito-Silva aamelia@usp.br (ORCID) [scientific advisor] contributors: Bruno Ramalho Furlan brfrlan@gmail.com (ORCID) [contributor]","code":""},{"path":"https://danielvartan.github.io/actverse/reference/aggregate_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregate the index of a tsibble ‚Äî aggregate_index","title":"Aggregate the index of a tsibble ‚Äî aggregate_index","text":"aggregate_index() allows aggregate index tsibble object applying specific function measured variables.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/aggregate_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregate the index of a tsibble ‚Äî aggregate_index","text":"","code":"aggregate_index(data, unit, fun = NULL, week_start = 1)"},{"path":"https://danielvartan.github.io/actverse/reference/aggregate_index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aggregate the index of a tsibble ‚Äî aggregate_index","text":"data tsibble object. unit string indicating time unit index must aggregated. Valid values : ‚Äúseconds‚Äù, ‚Äúminutes‚Äù, ‚Äúhours‚Äù, ‚Äúdays‚Äù, ‚Äúweeks‚Äù, ‚Äúmonths‚Äù, ‚Äúquarters‚Äù, ‚Äúyears‚Äù) (default: \"minutes\"). fun (optional) function applied measure variable data. NULL, aggregate_index() apply default function (see Details section learn ) (default: NULL). week_start (optional) integer number indicating day week starts (1 Monday 7 Sunday). used unit set \"weeks\" (default: 1).","code":""},{"path":"https://danielvartan.github.io/actverse/reference/aggregate_index.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aggregate the index of a tsibble ‚Äî aggregate_index","text":"tsibble object columns data, index aggregated specified time unit.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/aggregate_index.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Aggregate the index of a tsibble ‚Äî aggregate_index","text":"aggregate_index() designed simplify regularization tsibble objects aggregating index specified time unit. advanced customized aggregation, consider using index_by() function tsibble package, offers greater flexibility control.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/aggregate_index.html","id":"default-function","dir":"Reference","previous_headings":"","what":"Default function","title":"Aggregate the index of a tsibble ‚Äî aggregate_index","text":"fun argument NULL, aggregate_index() use following function transform measured variable:   function computes mean numeric variables assigns frequent value (mode) non-numeric variables. mode found, returns first non-missing value x.","code":"function(x) {     if (is.numeric(x) && !all(nchar(x) == 1, na.rm = TRUE)) {         mean(x, na.rm = TRUE)     } else {         y <- x[which(!is.na(x))]         unique <- unique(y)         unique[which.max(tabulate(match(y, unique)))]     } }"},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/aggregate_index.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Aggregate the index of a tsibble ‚Äî aggregate_index","text":"","code":"acttrust #> # A tsibble: 1,441 x 17 [1m] <America/Sao_Paulo> #>    timestamp             pim   tat   zcm orientation wrist_temperature #>    <dttm>              <dbl> <dbl> <dbl>       <dbl>             <dbl> #>  1 2021-04-24 04:14:00  7815   608   228           0              26.9 #>  2 2021-04-24 04:15:00  2661   160    64           0              27.2 #>  3 2021-04-24 04:16:00  3402   243    80           0              27.7 #>  4 2021-04-24 04:17:00  4580   317   125           0              27.9 #>  5 2021-04-24 04:18:00  2624   255    33           0              28.0 #>  6 2021-04-24 04:19:00  3929   246   105           0              28.1 #>  7 2021-04-24 04:20:00  5812   369   171           0              28.2 #>  8 2021-04-24 04:21:00  3182   270    54           0              28.4 #>  9 2021-04-24 04:22:00  6362   373   189           0              28.6 #> 10 2021-04-24 04:23:00  2621   159    64           0              28.7 #> # ‚Ñπ 1,431 more rows #> # ‚Ñπ 11 more variables: external_temperature <dbl>, light <dbl>, #> #   ambient_light <dbl>, red_light <dbl>, green_light <dbl>, blue_light <dbl>, #> #   ir_light <dbl>, uva_light <dbl>, uvb_light <dbl>, event <dbl>, state <dbl>  aggregate_index(acttrust, unit = \"hour\") #> # A tsibble: 25 x 17 [1h] <America/Sao_Paulo> #>    timestamp              pim    tat   zcm orientation wrist_temperature #>    <dttm>               <dbl>  <dbl> <dbl>       <dbl>             <dbl> #>  1 2021-04-24 04:00:00 2424.  182.   50.0            0              29.5 #>  2 2021-04-24 05:00:00 2631.  173.   64.1            0              30.0 #>  3 2021-04-24 06:00:00 1960.  139.   40.2            0              29.9 #>  4 2021-04-24 07:00:00 2453.  163.   56.7            0              29.9 #>  5 2021-04-24 08:00:00 1758.  128.   37.2            0              30.5 #>  6 2021-04-24 09:00:00 2008.  134.   45.3            0              31.0 #>  7 2021-04-24 10:00:00 3129.  192.   94.8            0              30.5 #>  8 2021-04-24 11:00:00  152.    9.72  4.48           0              32.3 #>  9 2021-04-24 12:00:00   72.9   4.18  2.1            0              29.6 #> 10 2021-04-24 13:00:00   79.8   6.22  1.33           0              31.4 #> # ‚Ñπ 15 more rows #> # ‚Ñπ 11 more variables: external_temperature <dbl>, light <dbl>, #> #   ambient_light <dbl>, red_light <dbl>, green_light <dbl>, blue_light <dbl>, #> #   ir_light <dbl>, uva_light <dbl>, uvb_light <dbl>, event <dbl>, state <dbl>  aggregate_index(acttrust, unit = \"day\") #> # A tsibble: 2 x 17 [1D] #>   timestamp    pim   tat   zcm orientation wrist_temperature #>   <date>     <dbl> <dbl> <dbl>       <dbl>             <dbl> #> 1 2021-04-24 1657.  107.  43.8           0              30.8 #> 2 2021-04-25 2976.  198.  77.5           0              29.9 #> # ‚Ñπ 11 more variables: external_temperature <dbl>, light <dbl>, #> #   ambient_light <dbl>, red_light <dbl>, green_light <dbl>, blue_light <dbl>, #> #   ir_light <dbl>, uva_light <dbl>, uvb_light <dbl>, event <dbl>, state <dbl>  aggregate_index(acttrust, unit = \"week\") #> # A tsibble: 1 x 17 [?] #>   timestamp   pim   tat   zcm orientation wrist_temperature external_temperature #>      <week> <dbl> <dbl> <dbl>       <dbl>             <dbl>                <dbl> #> 1  2021 W16 1890.  123.  49.8           0              30.6                 29.6 #> # ‚Ñπ 10 more variables: light <dbl>, ambient_light <dbl>, red_light <dbl>, #> #   green_light <dbl>, blue_light <dbl>, ir_light <dbl>, uva_light <dbl>, #> #   uvb_light <dbl>, event <dbl>, state <dbl>  aggregate_index(acttrust, unit = \"month\") #> # A tsibble: 1 x 17 [?] #>   timestamp   pim   tat   zcm orientation wrist_temperature external_temperature #>       <mth> <dbl> <dbl> <dbl>       <dbl>             <dbl>                <dbl> #> 1  2021 Apr 1890.  123.  49.8           0              30.6                 29.6 #> # ‚Ñπ 10 more variables: light <dbl>, ambient_light <dbl>, red_light <dbl>, #> #   green_light <dbl>, blue_light <dbl>, ir_light <dbl>, uva_light <dbl>, #> #   uvb_light <dbl>, event <dbl>, state <dbl>  aggregate_index(acttrust, unit = \"quarter\") #> # A tsibble: 1 x 17 [?] #>   timestamp   pim   tat   zcm orientation wrist_temperature external_temperature #>       <qtr> <dbl> <dbl> <dbl>       <dbl>             <dbl>                <dbl> #> 1   2021 Q2 1890.  123.  49.8           0              30.6                 29.6 #> # ‚Ñπ 10 more variables: light <dbl>, ambient_light <dbl>, red_light <dbl>, #> #   green_light <dbl>, blue_light <dbl>, ir_light <dbl>, uva_light <dbl>, #> #   uvb_light <dbl>, event <dbl>, state <dbl>  aggregate_index(acttrust, unit = \"year\") #> # A tsibble: 1 x 17 [?] #>   timestamp   pim   tat   zcm orientation wrist_temperature external_temperature #>       <dbl> <dbl> <dbl> <dbl>       <dbl>             <dbl>                <dbl> #> 1      2021 1890.  123.  49.8           0              30.6                 29.6 #> # ‚Ñπ 10 more variables: light <dbl>, ambient_light <dbl>, red_light <dbl>, #> #   green_light <dbl>, blue_light <dbl>, ir_light <dbl>, uva_light <dbl>, #> #   uvb_light <dbl>, event <dbl>, state <dbl>"},{"path":"https://danielvartan.github.io/actverse/reference/find_epoch.html","id":null,"dir":"Reference","previous_headings":"","what":"Find distinct epochs in a series ‚Äî find_epoch","title":"Find distinct epochs in a series ‚Äî find_epoch","text":"find_epoch() identifies distinct epochs periodicities present object returns along prevalent epoch meets specified threshold.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/find_epoch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find distinct epochs in a series ‚Äî find_epoch","text":"","code":"find_epoch(x, threshold = 0.9)  # S3 method for class 'numeric' find_epoch(x, threshold = 0.9)  # S3 method for class 'hms' find_epoch(x, threshold = 0.9)  # S3 method for class 'tbl_df' find_epoch(x, threshold = 0.9)"},{"path":"https://danielvartan.github.io/actverse/reference/find_epoch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find distinct epochs in a series ‚Äî find_epoch","text":"x atomic vector, provided function method handling . threshold (optional) number, 0 1, indicating minimum proportion epoch must considered valid. threshold = 1 means regularity time series must strict (.e., just 1 periodicity) (default: 0.9).","code":""},{"path":"https://danielvartan.github.io/actverse/reference/find_epoch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find distinct epochs in a series ‚Äî find_epoch","text":"list object following elements: best_match: number indicating epoch/periodicity threshold greater prevalence seconds. none find, best_match value equal .numeric(NA). prevalence: tibble listing unique epochs/periodicities found data along proportions.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/find_epoch.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Find distinct epochs in a series ‚Äî find_epoch","text":"rare cases multiple periodicities highest prevalence threshold, best_match return one values.","code":""},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/find_epoch.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Find distinct epochs in a series ‚Äî find_epoch","text":"","code":"data <-   dplyr::tibble(     index = c(       as.POSIXct(         seq(60, 5400, by = 60),         origin = lubridate::origin       ),       as.POSIXct(         seq(5430, 5490, by = 30),         origin = lubridate::origin       ),       as.POSIXct(         seq(5505, 5520, by = 15),         origin = lubridate::origin       ),       as.POSIXct(         seq(5530, 5540, by = 10),         origin = lubridate::origin       ),       as.POSIXct(         seq(5545, 5555, by = 5),         origin = lubridate::origin       )     ),     x = seq_along(timestamp)   ) |>   tsibble::tsibble(index = index)  find_epoch(data, 0.8) #> $best_match #> [1] 60 #>  #> $prevalence #> # A tibble: 5 √ó 2 #>   epoch proportion #>   <dbl>      <dbl> #> 1    60     0.899  #> 2     5     0.0303 #> 3    30     0.0303 #> 4    10     0.0202 #> 5    15     0.0202 #>   seq(1, 100, by = 5) |> find_epoch(threshold = 0.8) #> $best_match #> [1] 5 #>  #> $prevalence #> # A tibble: 1 √ó 2 #>   epoch proportion #>   <dbl>      <dbl> #> 1     5          1 #>"},{"path":"https://danielvartan.github.io/actverse/reference/get_from_zenodo.html","id":null,"dir":"Reference","previous_headings":"","what":"Get data from a Zenodo record ‚Äî get_from_zenodo","title":"Get data from a Zenodo record ‚Äî get_from_zenodo","text":"get_from_zenodo() allows easy download Zenodo record Zenodo file. Note: function works Zenodo created DOIs (DOI , example, derived Zookeys).","code":""},{"path":"https://danielvartan.github.io/actverse/reference/get_from_zenodo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get data from a Zenodo record ‚Äî get_from_zenodo","text":"","code":"get_from_zenodo(doi, dir = \".\", file = NULL, parallel = FALSE, force = FALSE)"},{"path":"https://danielvartan.github.io/actverse/reference/get_from_zenodo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get data from a Zenodo record ‚Äî get_from_zenodo","text":"doi string indicating Zenodo DOI (Digital Object Identifier) starting \"10.5281/zenodo.\". See Examples section learn . dir (optional) string indicating directory dir data must downloaded (default: \".\"). file (optional) character vector names files must downloaded. NULL, function download entire record (default: NULL). parallel (optional) logical flag indicating function must run number parallel processes, downloading another file. useful multiple large files present Zenodo record, otherwise downloaded sequentially. operation limited bandwidth traffic limitations (default: FALSE). force (optional) logical flag indicating function download files even already exist (default: FALSE).","code":""},{"path":"https://danielvartan.github.io/actverse/reference/get_from_zenodo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get data from a Zenodo record ‚Äî get_from_zenodo","text":"character object paths files downloaded.","code":""},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/get_from_zenodo.html","id":"zenodo-api","dir":"Reference","previous_headings":"","what":"Zenodo API","title":"Get data from a Zenodo record ‚Äî get_from_zenodo","text":"can find Zenodo API : https://developers.zenodo.org","code":""},{"path":"https://danielvartan.github.io/actverse/reference/get_from_zenodo.html","id":"license","dir":"Reference","previous_headings":"","what":"License","title":"Get data from a Zenodo record ‚Äî get_from_zenodo","text":"get_from_zenodo() code based download_zenodo() function found inborutils package Research Institute Nature Forest (INBO). download_zenodo() created Hans Van Calster (hans.vancalster@inbo.) Floris Vanderhaeghe (floris.vanderhaeghe@inbo.). give thanks INBO institute developers involved piece software. Please note code comes MIT License. can read latter .","code":"Copyright (c) 2016 Instituut voor Natuur en Bosonderzoek (INBO)  Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:  The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE."},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/get_from_zenodo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get data from a Zenodo record ‚Äî get_from_zenodo","text":"","code":"if (FALSE) { # \\dontrun{   library(readr)    ## Downloading a single file from a Zenodo record    dir <- tempdir()   file <- \"sleep-diary.txt\"    get_from_zenodo(     doi = \"10.5281/zenodo.4898822\",     dir = dir,     file = file   )    read_lines(file.path(dir, file))    ## Downloading all the files from a Zenodo record    get_from_zenodo(     doi = \"10.5281/zenodo.4898822\",     dir = tempdir(),     file = NULL   ) } # }"},{"path":"https://danielvartan.github.io/actverse/reference/get_raw_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get paths to actverse raw datasets ‚Äî get_raw_data","title":"Get paths to actverse raw datasets ‚Äî get_raw_data","text":"actverse comes bundled raw datasets testing learning purposes. get_raw_data() makes easy access paths.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/get_raw_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get paths to actverse raw datasets ‚Äî get_raw_data","text":"","code":"get_raw_data(file = NULL)"},{"path":"https://danielvartan.github.io/actverse/reference/get_raw_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get paths to actverse raw datasets ‚Äî get_raw_data","text":"file (optional) character vector specifying raw data file name(s) retrieve. NULL, returns available raw data file names (default: NULL).","code":""},{"path":"https://danielvartan.github.io/actverse/reference/get_raw_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get paths to actverse raw datasets ‚Äî get_raw_data","text":"file NULL, character object file names available. Else, string file name path.","code":""},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/get_raw_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get paths to actverse raw datasets ‚Äî get_raw_data","text":"","code":"get_raw_data() #> [1] \"acttrust.txt\"  get_raw_data(\"acttrust.txt\") #> [1] \"/home/runner/work/_temp/Library/actverse/extdata/acttrust.txt\""},{"path":"https://danielvartan.github.io/actverse/reference/get_sun_stats.html","id":null,"dir":"Reference","previous_headings":"","what":"Get sun related statistics from different APIs ‚Äî get_sun_stats","title":"Get sun related statistics from different APIs ‚Äî get_sun_stats","text":"get_sun_stats() retrieves sun statistics using different models data sources. moment, none get_sun_stats() methods uses real-world data. based models. API peculiarities. recommend checking API documentation better understanding mechanisms behind (see Details section).","code":""},{"path":"https://danielvartan.github.io/actverse/reference/get_sun_stats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get sun related statistics from different APIs ‚Äî get_sun_stats","text":"","code":"get_sun_stats(   latitude,   longitude,   date = Sys.Date(),   tz = \"UTC\",   method = \"suncalc\" )"},{"path":"https://danielvartan.github.io/actverse/reference/get_sun_stats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get sun related statistics from different APIs ‚Äî get_sun_stats","text":"latitude number indicating latitude desired location decimal degrees. longitude number indicating longitude desired location decimal degrees. date (optional) Date value indicating moment time (default: Sys.Date()). tz (optional) string indicating time zone results. See timezones learn (default: \"UTC\"). method (optional) string indicating method API use. Valid values : \"suncalc\" \"sunrise-sunset.org\". See Details section learn (default: \"suncalc\").","code":""},{"path":"https://danielvartan.github.io/actverse/reference/get_sun_stats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get sun related statistics from different APIs ‚Äî get_sun_stats","text":"list object following elements: date: Date vector value date parameter. latitude: number value latitude parameter. longitude: number value longitude parameter. tz: string value tz parameter. sunrise_start: hms value indicating moment top edge sun appears horizon. sunrise_end: hms value indicating moment bottom edge sun touches horizon. golden_hour_end: hms value indicating moment morning golden hour (soft light, best time photography) ends. solar_noon: hms value indicating moment sun highest position. golden_hour_start: hms value indicating moment evening golden hour (soft light, best time photography) starts. sunset_start: hms value indicating moment bottom edge sun touches horizon. sunset_end: hms value indicating moment sun disappears horizon. also moment evening civil twilight starts. dusk: hms value indicating moment dusk starts. also moment evening nautical twilight starts. nautical_dusk: hms value indicating moment nautical dusk starts. also moment evening astronomical twilight starts. night_start: hms value indicating moment night starts (dark enough astronomical observations). nadir: hms value indicating darkest moment night, .e., sun lowest position. night_end: hms value indicating moment night ends. also moment morning astronomical twilight starts. nautical_dawn:  hms value indicating moment nautical dawn starts. also moment morning nautical twilight starts. dawn: hms value indicating moment dawn starts. also moment morning nautical twilight ends morning civil twilight starts.","code":""},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/get_sun_stats.html","id":"methods-argument","dir":"Reference","previous_headings":"","what":"methods argument","title":"Get sun related statistics from different APIs ‚Äî get_sun_stats","text":"moment, get_sun_stats() can access results two APIs, described . \"suncalc\": Use sun statistics provided suncalc package. \"sunrise-sunset.org\": Use sun statistics provided Sunrise-Sunset API (requires internet connection). Click learn . \"sunrise-sunset.org\" method tends give close, usually lower, result compared \"suncalc\" method. Please note using method = \"sunrise-sunset.org\" need show attribution link https://sunrise-sunset.org. Also note summer time adjustments included returned data using method.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/get_sun_stats.html","id":"other-statistics","dir":"Reference","previous_headings":"","what":"Other statistics","title":"Get sun related statistics from different APIs ‚Äî get_sun_stats","text":"purpose function return basic statistics sun. need related statistics, recommend checking following packages. cptec: Interface CPTEC/ INPE API. nasapower: NASA POWER API Client. rnoaa: NOAA Weather Data R.","code":""},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/get_sun_stats.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get sun related statistics from different APIs ‚Äî get_sun_stats","text":"","code":"latitude <- -23.5489 longitude <- -46.6388 date <- Sys.Date() tz <- \"America/Sao_Paulo\"  get_sun_stats(   latitude = latitude,   longitude = longitude,   date = date,   tz = tz,   method = \"suncalc\" ) #> $date #> [1] \"2025-09-19\" #>  #> $latitude #> [1] -23.5489 #>  #> $longitude #> [1] -46.6388 #>  #> $tz #> [1] \"America/Sao_Paulo\" #>  #> $sunrise_start #> 06:00:28 #>  #> $sunrise_end #> 06:02:47 #>  #> $golden_hour_end #> 06:30:19 #>  #> $solar_noon #> 12:01:40 #>  #> $golden_hour_start #> 17:33:02 #>  #> $sunset_start #> 18:00:33 #>  #> $sunset_end #> 18:02:53 #>  #> $dusk #> 18:25:25 #>  #> $nautical_dusk #> 18:51:38 #>  #> $night_start #> 19:17:55 #>  #> $nadir #> 00:01:40 #>  #> $night_end #> 04:45:25 #>  #> $nautical_dawn #> 05:11:43 #>  #> $dawn #> 05:37:55 #>   library(curl)  if (has_internet()) {   get_sun_stats(     latitude = latitude,     longitude = longitude,     date = date,     tz = tz,     method = \"sunrise-sunset.org\"   ) } #> $date #> [1] \"2025-09-19\" #>  #> $latitude #> [1] -23.5489 #>  #> $longitude #> [1] -46.6388 #>  #> $tz #> [1] \"America/Sao_Paulo\" #>  #> $sunrise_start #> 05:51:03 #>  #> $sunrise_end #> NA #>  #> $golden_hour_end #> NA #>  #> $solar_noon #> 11:53:43 #>  #> $golden_hour_start #> NA #>  #> $sunset_start #> NA #>  #> $sunset_end #> 17:56:24 #>  #> $dusk #> 18:17:47 #>  #> $nautical_dusk #> 18:44:00 #>  #> $night_start #> 19:10:17 #>  #> $nadir #> NA #>  #> $night_end #> 04:37:09 #>  #> $nautical_dawn #> 05:03:27 #>  #> $dawn #> 05:29:40 #>"},{"path":"https://danielvartan.github.io/actverse/reference/na_approx.html","id":null,"dir":"Reference","previous_headings":"","what":"Interpolate missing values in a numeric vector ‚Äî na_approx","title":"Interpolate missing values in a numeric vector ‚Äî na_approx","text":"actverse package offers suite functions handling missing values interpolation, prefixed na_. Refer Methods section details available approach. na_plot() provides visual comparison original interpolated data, helping assess select appropriate interpolation method dataset.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/na_approx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Interpolate missing values in a numeric vector ‚Äî na_approx","text":"","code":"na_approx(x, index, fill_na_tips = TRUE)  na_locf(x, fill_na_tips = TRUE)  na_overall_mean(x)  na_overall_median(x)  na_overall_mode(x)  na_spline(x, index)  na_weekly_mean(x, index, fill_na_tips = TRUE, week_start = 1)  na_zero(x)  na_plot(x, index, intp = NULL, print = TRUE)"},{"path":"https://danielvartan.github.io/actverse/reference/na_approx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Interpolate missing values in a numeric vector ‚Äî na_approx","text":"x numeric vector. index atomic vector length x representing index time series. fill_na_tips (optional) logical flag indicating function must fill remaining NA values closest non-missing data point. Learn Details section (default: TRUE). week_start (optional) integer indicating day week starts (1 Monday 7 Sunday) (default: 1). intp (optional) numeric vector length x, containing interpolated values compared original data (default: NULL). print (optional) logical flag indicating function must print plot (default: TRUE).","code":""},{"path":"https://danielvartan.github.io/actverse/reference/na_approx.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Interpolate missing values in a numeric vector ‚Äî na_approx","text":"na_*: numeric vector length x. na_plot(): ggplot object point line chart showing original data versus interpolated data.","code":""},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/na_approx.html","id":"interpolation-in-actigraphy","dir":"Reference","previous_headings":"","what":"Interpolation in actigraphy","title":"Interpolate missing values in a numeric vector ‚Äî na_approx","text":"articles address interpolation methods specifically actigraphy data. Tonon et al. (2022) recommend avoiding interpolation‚Äî.e., retaining NA values‚Äîwhenever possible. interpolation necessary (example, certain analyses performed missing values), authors suggest using weekly mean method preferred approach.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/na_approx.html","id":"fill-na-tips-argument","dir":"Reference","previous_headings":"","what":"fill_na_tips argument","title":"Interpolate missing values in a numeric vector ‚Äî na_approx","text":"interpolation methods can result outputs remaining NA values. case, example, linear interpolation method (na_approx()). Example:   using fill_na_tips == TRUE (default), function fill gaps closest non-missing data point. Example:","code":"x <- c(NA, 1, 5, 10, NA, 5, 10, 1, NA, 10, 1, 5, NA, NA) index <- seq(as.Date(\"2020-01-01\"), as.Date(\"2020-01-14\"), by = \"day\")  na_approx(x, index, fill_na_tips = FALSE) #>  [1]   NA  1.0  5.0 10.0  7.5  5.0 10.0  1.0  5.5 10.0  1.0  5.0   NA   NA na_approx(x, index, fill_na_tips = TRUE) #>  [1]  1.0  1.0  5.0 10.0  7.5  5.0 10.0  1.0  5.5 10.0  1.0  5.0  5.0  5.0"},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/na_approx.html","id":"na-approx-linear-interpolation","dir":"Reference","previous_headings":"","what":"na_approx(): Linear interpolation","title":"Interpolate missing values in a numeric vector ‚Äî na_approx","text":"method fills gaps x linearly interpolating non-missing values, creating straight-line \"bridge\" across missing data points. details, see zoo::na.approx() stats::approx(). Visual example:","code":""},{"path":"https://danielvartan.github.io/actverse/reference/na_approx.html","id":"na-locf-last-observation-carried-forward","dir":"Reference","previous_headings":"","what":"na_locf(): Last observation carried forward","title":"Interpolate missing values in a numeric vector ‚Äî na_approx","text":"method replaces NA values preceding observation NA block. Visual example:","code":""},{"path":"https://danielvartan.github.io/actverse/reference/na_approx.html","id":"na-overall-mean-overall-mean","dir":"Reference","previous_headings":"","what":"na_overall_mean(): Overall mean","title":"Interpolate missing values in a numeric vector ‚Äî na_approx","text":"method replaces NA values overall mean x. Visual example:","code":""},{"path":"https://danielvartan.github.io/actverse/reference/na_approx.html","id":"na-overall-median-overall-median","dir":"Reference","previous_headings":"","what":"na_overall_median(): Overall median","title":"Interpolate missing values in a numeric vector ‚Äî na_approx","text":"method replaces NA values overall median x. Visual example:","code":""},{"path":"https://danielvartan.github.io/actverse/reference/na_approx.html","id":"na-overall-mode-overall-mode","dir":"Reference","previous_headings":"","what":"na_overall_mode(): Overall mode","title":"Interpolate missing values in a numeric vector ‚Äî na_approx","text":"method replaces NA values frequent value (mode) x. mode can found, function return x without interpolation. na_overall_mode() show warning message inform user happens. Visual example:","code":""},{"path":"https://danielvartan.github.io/actverse/reference/na_approx.html","id":"na-spline-cubic-spline-interpolation","dir":"Reference","previous_headings":"","what":"na_spline(): Cubic spline interpolation","title":"Interpolate missing values in a numeric vector ‚Äî na_approx","text":"method uses low-degree polynomials intervals, chooses polynomial pieces fit smoothly together. can produce extreme values dealing large gaps. See stats::spline() zoo::na.spline() learn spline method. Visual example:","code":""},{"path":"https://danielvartan.github.io/actverse/reference/na_approx.html","id":"na-weekly-mean-weekly-mean","dir":"Reference","previous_headings":"","what":"na_weekly_mean(): Weekly mean","title":"Interpolate missing values in a numeric vector ‚Äî na_approx","text":"method replaces NA values weekly mean x. datasets one week index, result na_overall_mean(). Visual example:","code":""},{"path":"https://danielvartan.github.io/actverse/reference/na_approx.html","id":"na-zero-replace-na-with-s","dir":"Reference","previous_headings":"","what":"na_zero(): Replace NA with 0s","title":"Interpolate missing values in a numeric vector ‚Äî na_approx","text":"method replaces NA values 0s. Visual example:","code":""},{"path":"https://danielvartan.github.io/actverse/reference/na_approx.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Interpolate missing values in a numeric vector ‚Äî na_approx","text":"Tonon, . C. et al. (2022). Handling missing data rest-activity time series measured actimetry. Chronobiology International, 39(7). doi:10.1080/07420528.2022.2051714 .","code":""},{"path":"https://danielvartan.github.io/actverse/reference/na_approx.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Interpolate missing values in a numeric vector ‚Äî na_approx","text":"","code":"x <- c(NA, 1, 5, 10, NA, 5, 10, 1, NA, 10, 1, 5, NA, NA) index <- seq(as.Date(\"2020-01-01\"), as.Date(\"2020-01-14\"), by = \"day\")  x #>  [1] NA  1  5 10 NA  5 10  1 NA 10  1  5 NA NA #> [1] NA  1  5 10 NA  5 10  1 NA 10  1  5 NA NA # Expected  na_plot(x, index)   ## 'na_approx()': Linear interpolation  na_approx(x, index, fill_na_tips = FALSE) #>  [1]   NA  1.0  5.0 10.0  7.5  5.0 10.0  1.0  5.5 10.0  1.0  5.0   NA   NA #> [1]   NA  1.0  5.0 10.0  7.5  5.0 10.0  1.0  5.5 10.0 # Expected #> [11] 1.0  5.0  NA   NA  na_plot(x, index, na_approx(x, index, fill_na_tips = FALSE))   na_approx(x, index, fill_na_tips = TRUE) #>  [1]  1.0  1.0  5.0 10.0  7.5  5.0 10.0  1.0  5.5 10.0  1.0  5.0  5.0  5.0 #> [1]   1.0  1.0  5.0 10.0  7.5  5.0 10.0  1.0  5.5 10.0 # Expected #> [11] 1.0  5.0  5.0  5.0  na_plot(x, index, na_approx(x, index, fill_na_tips = TRUE))   ## 'na_locf()': Last observation carried forward  na_locf(x, fill_na_tips = FALSE) #>  [1] NA  1  5 10 10  5 10  1  1 10  1  5  5  5 #> [1] NA  1  5 10 10  5 10  1  1 10  1  5  5  5 # Expected  na_plot(x, index, na_locf(x, fill_na_tips = FALSE))   na_locf(x, fill_na_tips = TRUE) #>  [1]  1  1  5 10 10  5 10  1  1 10  1  5  5  5 #> [1]  1  1  5 10 10  5 10  1  1 10  1  5  5  5 # Expected  na_plot(x, index, na_locf(x, fill_na_tips = TRUE))   ## 'na_overall_mean()': Overall mean  na_overall_mean(x) #>  [1]  5.333333  1.000000  5.000000 10.000000  5.333333  5.000000 10.000000 #>  [8]  1.000000  5.333333 10.000000  1.000000  5.000000  5.333333  5.333333 #> [1]  5.333333  1.000000  5.000000 10.000000  5.333333  5.000000 10.000000 #> [8] 1.000000 5.333333 10.000000  1.000000  5.000000  5.333333 #> [14] 5.333333 # Expected  mean(x, na.rm = TRUE) #> [1] 5.333333 #> [1] 5.333333 # Expected  na_plot(x, index, na_overall_mean(x))   ## 'na_overall_median()': Overall median  na_overall_median(x) #>  [1]  5  1  5 10  5  5 10  1  5 10  1  5  5  5 #> [1]  5  1  5 10  5  5 10  1  5 10  1  5  5  5 # Expected  stats::median(x, na.rm = TRUE) #> [1] 5 #> [1] 5 # Expected  na_plot(x, index, na_overall_median(x))   ## 'na_overall_mode()': Overall mode  na_overall_mode(x) #> ! No mode was found. x was not interpolated. #>  [1] NA  1  5 10 NA  5 10  1 NA 10  1  5 NA NA #> ! No mode was found. x was not interpolated. #> [1] NA  1  5 10 NA  5 10  1 NA 10  1  5 NA NA # Expected  x2 <- append(x, 1) index2 <- append(index, as.Date(\"2020-01-15\"))  na_overall_mode(x2) #>  [1]  1  1  5 10  1  5 10  1  1 10  1  5  1  1  1 #> [1]  1  1  5 10  1  5 10  1  1 10  1  5  1  1  1 # Expected  na_plot(x2, index2, na_overall_mode(x2))   ## 'na_spline()': Cubic spline interpolation  na_spline(x, index) #>  [1]   4.567728   1.000000   5.000000  10.000000   6.589146   5.000000 #>  [7]  10.000000   1.000000   5.037198  10.000000   1.000000   5.000000 #> [13]  42.905390 131.216171 #> [1]  4.567728   1.000000   5.000000  10.000000   6.589146   5.000000 #> [7]  10.000000  1.000000   5.037198  10.000000   1.000000   5.000000 #> [13] 42.905390 131.216171 # Expected  na_plot(x, index, na_spline(x, index))   ## 'na_weekly_mean()': Weekly mean  na_weekly_mean(x, index, fill_na_tips = FALSE) #>  [1]  5.333333  1.000000  5.000000 10.000000  5.333333  5.000000 10.000000 #>  [8]  1.000000  5.333333 10.000000  1.000000  5.000000        NA        NA #> [1]  5.333333  1.000000  5.000000 10.000000  5.333333  5.000000 10.000000 #> [8] 1.000000 5.333333 10.000000  1.000000  5.000000  NA  NA # Expected  na_plot(x, index, na_weekly_mean(x, index, fill_na_tips = FALSE))   na_weekly_mean(x, index, fill_na_tips = TRUE) #>  [1]  5.333333  1.000000  5.000000 10.000000  5.333333  5.000000 10.000000 #>  [8]  1.000000  5.333333 10.000000  1.000000  5.000000  5.000000  5.000000 #> [1]  5.333333  1.000000  5.000000 10.000000  5.333333  5.000000 10.000000 #> [8] 1.000000 5.333333 10.000000  1.000000  5.000000  5.000000 #> [14] 5.000000 # Expected  na_plot(x, index, na_weekly_mean(x, index, fill_na_tips = TRUE))   ## 'na_zero()': Replace 'NA' with '0's  na_zero(x) #>  [1]  0  1  5 10  0  5 10  1  0 10  1  5  0  0 #> [1]  0  1  5 10  0  5 10  1  0 10  1  5  0  0 # Expected  na_plot(x, index, na_zero(x))"},{"path":"https://danielvartan.github.io/actverse/reference/periodogram.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Sokolove & Bushell's \\(\\chi^{2}\\) periodogram ‚Äî periodogram","title":"Compute Sokolove & Bushell's \\(\\chi^{2}\\) periodogram ‚Äî periodogram","text":"periodogram() returns Sokolove & Bushell's \\(\\chi^{2}\\) periodogram plot measures tsibble object. \\(\\chi^{2}\\) periodogram technique identify periodic patterns time series, used chronobiology identify presence/absence circadian periodicities rest-activity data. proposed Sokolove Bushell (1978) adaptation Enright's periodogram (1965), adding peak significance test procedure.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/periodogram.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Sokolove & Bushell's \\(\\chi^{2}\\) periodogram ‚Äî periodogram","text":"","code":"periodogram(   data,   col,   p_unit = \"minutes\",   p_min = 1000,   p_max = 2500,   p_step = 1,   alpha = 0.05,   print = TRUE )"},{"path":"https://danielvartan.github.io/actverse/reference/periodogram.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Sokolove & Bushell's \\(\\chi^{2}\\) periodogram ‚Äî periodogram","text":"data tsibble object. col string indicating column data use. p_unit (optional) string indicating time unit index must aggregated. aggregating index, change time series interval , consequently, p periods. Valid values : ‚Äúseconds‚Äù, ‚Äúminutes‚Äù, ‚Äúhours‚Äù, ‚Äúdays‚Äù, ‚Äúweeks‚Äù, ‚Äúmonths‚Äù, ‚Äúquarters‚Äù, ‚Äúyears‚Äù) (default: \"minutes\"). p_min (optional) integer number indicating minimum period (\\(p\\)), unit p_unit, compute test (e.g., p_unit = \"minutes\", p_min = 1 means period 1 minute) (default: 1000). p_max (optional) integer number indicating maximum period (\\(p\\)), unit p_unit, compute test (default: 2500). p_step (optional) integer number indicating range values must skipped computing one test next (e.g., p_min == 1, p_max == 7, p_step == 2, test periods 1, 3, 5, 7) (default: 1). alpha (optional) number, 0 1, indicating significant level (\\(\\alpha\\)) required peak significance test (default: 0.05). print (optional) logical value indicating function must print \\(Q_{p}\\) plot (default: TRUE).","code":""},{"path":"https://danielvartan.github.io/actverse/reference/periodogram.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Sokolove & Bushell's \\(\\chi^{2}\\) periodogram ‚Äî periodogram","text":"list object following elements: p_unit: string indicating time unit data aggregated. p_seq: numeric object sequence tested periods. alpha: number indicating significant level used. a_p: numeric object root mean square amplitude (\\(A_{p}\\)) period. a_p_plot: ggplot object line chart showing a_p (y) p_seq (x). q_p: numeric object peak significant test (\\(Q_{p}\\)) period . q_p_critical: numeric object \\(\\chi^{2}\\) critical values q_p, based alpha parameter. q_p_pvalue: numeric object p-value q_p, based alpha parameter. q_p_peaks: tibble object listing period peaked critical value along q_p, q_p_critical, relative q_p (q_p_rel = q_p_critical - q_p), q_p_pvalue. q_p_plot: ggplot object line chart showing q_p (y1) q_p_critical (y2) p_seq (x).","code":""},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/periodogram.html","id":"irregular-intervals","dir":"Reference","previous_headings":"","what":"Irregular intervals","title":"Compute Sokolove & Bushell's \\(\\chi^{2}\\) periodogram ‚Äî periodogram","text":"Sokolove Bushell's periodogram assumes time series regular, .e., regular intervals/epochs. periodogram() still work slightly irregular time series, latter least 90% prevalence periodicity. Warning messages issued telling user data irregularities found.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/periodogram.html","id":"data-aggregation","dir":"Reference","previous_headings":"","what":"Data aggregation","title":"Compute Sokolove & Bushell's \\(\\chi^{2}\\) periodogram ‚Äî periodogram","text":"one data p_unit (e.g., data recorded per minute user wants compute periodogram per hour), periodogram() aggregate values averaging assigning frequent value (mode) (non-numeric single integer variables).","code":""},{"path":"https://danielvartan.github.io/actverse/reference/periodogram.html","id":"missing-values","dir":"Reference","previous_headings":"","what":"Missing values","title":"Compute Sokolove & Bushell's \\(\\chi^{2}\\) periodogram ‚Äî periodogram","text":"periodogram() work even missing values. case analysis missing data, results may diverge. may want interpolate data points. articles deals interpolation actigraphy. Tonon et al. (2022) recommends using interpolation (.e., maintain NA values) whenever possible. authors also recommends using weekly mean method interpolation parameters computed presence NA values.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/periodogram.html","id":"guidelines","dir":"Reference","previous_headings":"","what":"Guidelines","title":"Compute Sokolove & Bushell's \\(\\chi^{2}\\) periodogram ‚Äî periodogram","text":"Enright (1965) Sokolove & Bushell (1978) guidelines \\(\\chi^{2}\\) periodogram computation follows.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/periodogram.html","id":"notes","dir":"Reference","previous_headings":"","what":"Notes","title":"Compute Sokolove & Bushell's \\(\\chi^{2}\\) periodogram ‚Äî periodogram","text":"visualizing documentation plain text, may trouble understanding equations. can see documentation package website.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/periodogram.html","id":"-a-p-the-statistic-adopted-to-express-importance-","dir":"Reference","previous_headings":"","what":"\\(A_{p}\\): The statistic adopted to express \"importance\"","title":"Compute Sokolove & Bushell's \\(\\chi^{2}\\) periodogram ‚Äî periodogram","text":"periodogram() compute \\(A_{p}\\) stat test period \\(p\\), minimum determined p_min argument maximum p_max argument, step determined p_step argument (e.g., p_min == 1, p_max == 5, p_step == 1, test periods 1, 2, 3, 4 5). \\(A_{p}\\) measure Enright's periodogram standard deviation column means Buys-Ballot table, , Enright puts , \"root mean square amplitude\". Buys-Ballot table \\(P\\) columns \\(m\\) rows, \\(m\\) number maximizes amount values time series \\(N\\) values can represented \\(P\\) columns table (thus, \\(m\\) \\(N / p\\) rounded ). \\(m\\) can seen cycle, greater similarity cycles difference columns, intense standard deviation (\\(A_{p}\\)). Buys-Ballot table integral period \\(p\\):   table shows, \\(P\\) number columns array (matrix/table), \\(m\\) number rows. \\(p\\) (test period) integer, \\(p = P\\). way, \\(A_{p}\\) can computed : $$A_{p} = \\sqrt{\\frac{\\sum^{P}_{h = 1} (Y_{p, h} - \\overline{Y}_{p})^{2}}{P}}$$ : $$\\overline{Y}_{p} = \\frac{\\sum^{P}_{h = 1} Y_{p, h}}{P}$$","code":"P (count)           |------------------------------------------------|     -                                                                  | Row 1          X_1          X_2          ...          X_P        | Row 2         X_P+1        X_P+2         ...          X_2P       | m (count) ...            ...          ...          ...          ...        | Row m      X_P(m-1)+1   X_P(m-1)+2       ...          X_Pm       |           --------------------------------------------------     - Totals        U_P,1        U_P,2         ...          U_P,P Averages      Y_P,1        Y_P,2         ...          Y_P,P"},{"path":"https://danielvartan.github.io/actverse/reference/periodogram.html","id":"-q-p-sokolove-amp-bushell-s-peak-significance-test","dir":"Reference","previous_headings":"","what":"\\(Q_{p}\\): Sokolove & Bushell's peak significance test","title":"Compute Sokolove & Bushell's \\(\\chi^{2}\\) periodogram ‚Äî periodogram","text":"Plotting \\(A_{p}\\) values allows identify magnitude standard deviations different \\(p\\)s. higher standard deviation tend peak. values susceptible high instantaneous fluctuations, Sokolove & Bushell proposed adding peak significance test, reducing intensity peaks weighting total variance data period appears. process, peak moments highlighted among neighbors, smaller changes lose prominence, tending constant variation one period another. significance test peaks given \\(A_{p}\\) leads \\(\\chi^{2}\\) distribution \\(p\\), test given \\(p\\) consistent distribution \\(P - 1\\) degrees freedom. formula calculating test : $$Q_{p} = \\frac{P \\times Ap^{2}}{\\sigma^{2}_{\\overline{X}}}$$ : $$\\sigma^{2}_{\\overline{X}} = \\frac{\\sigma^{2}_{X}}{m}$$ : \\(P\\) = Number columns test Buys-Ballot table. \\(m\\) = Number rows test Buys-Ballot table. \\(A_{p}\\) = Standard deviation column averages test Buys-Ballot table. \\(\\sigma^{2}_{\\overline{X}}\\)= Variance test data (\\(X\\)).","code":""},{"path":"https://danielvartan.github.io/actverse/reference/periodogram.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Compute Sokolove & Bushell's \\(\\chi^{2}\\) periodogram ‚Äî periodogram","text":"Enright, J. T. (1965). search rhythmicity biological time-series. Journal Theoretical Biology, 8(3), 426-468. doi:10.1016/0022-5193(65)90021-4 . Sokolove, P. G., & Bushell, W. N. (1978). chi square periodogram: utility analysis circadian rhythms. Journal Theoretical Biology, 72(1), 131-160. doi:10.1016/0022-5193(78)90022-x . Tonon, . C. et al. (2022). Handling missing data rest-activity time series measured actimetry. Chronobiology International, 39(7). doi:10.1080/07420528.2022.2051714 .","code":""},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/periodogram.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute Sokolove & Bushell's \\(\\chi^{2}\\) periodogram ‚Äî periodogram","text":"","code":"library(curl)  if (has_internet()) {   file <- get_from_zenodo(     doi = \"10.5281/zenodo.4898822\",     dir = tempdir(),     file = \"processed.txt\"   )    data <- read_acttrust(file, tz = \"America/Sao_Paulo\")   per <- periodogram(data, \"pim\") } #> ‚Ñπ Reading data #> ‚úî Reading data [238ms] #>  #> ‚Ñπ Tidying data #> ‚úî Tidying data [330ms] #>  #> ‚Ñπ Validating data #> ‚Ñπ Found 2 gap in the time series: 2021-04-26 03:14:00/2021-04-26 03:14:00 and 2021-05-01 17:34:00/2021-05-01 17:34:00 (showing up to a total of 5 values). #> ‚Ñπ Validating data #> ‚Ñπ Found 21 offwrist blocks in the time series. All values were set as NA. #> ‚Ñπ Validating data #> ‚úî Validating data [17s] #>  #> ! data[[col]] has missing values. Results may diverge. #> ‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†                  49% | ETA:  1s #> ‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†    96% | ETA:  0s #> ‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†  100% | ETA:  0s #>"},{"path":"https://danielvartan.github.io/actverse/reference/read_acttrust.html","id":null,"dir":"Reference","previous_headings":"","what":"Read, tidy, and validate an ActTrust file ‚Äî read_acttrust","title":"Read, tidy, and validate an ActTrust file ‚Äî read_acttrust","text":"read_acttrust() allows read, tidy, validate ActTrust file consistent easy manner. can see output data structure ?acttrust. ActTrust trademark Condor Instruments Ltda.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/read_acttrust.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read, tidy, and validate an ActTrust file ‚Äî read_acttrust","text":"","code":"read_acttrust(   file = tcltk::tk_choose.files(mult = FALSE),   tz = \"UTC\",   regularize = TRUE )"},{"path":"https://danielvartan.github.io/actverse/reference/read_acttrust.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read, tidy, and validate an ActTrust file ‚Äî read_acttrust","text":"file (optional) string file path ActTrust data. assigned, dialog window open allowing user browse select file (default: tk_choose.files()). tz (optional) string specifies time zone parse dates/time . string must time zone recognized user's OS. information see ?timezone (default: \"UTC\"). regularize (optional) logical value indicating function must correct irregular intervals (strongly recommended). See Details section (default: TRUE).","code":""},{"path":"https://danielvartan.github.io/actverse/reference/read_acttrust.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read, tidy, and validate an ActTrust file ‚Äî read_acttrust","text":"tsibble object. data structure can found ?acttrust.","code":""},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/read_acttrust.html","id":"regularize-parameter","dir":"Reference","previous_headings":"","what":"regularize parameter","title":"Read, tidy, and validate an ActTrust file ‚Äî read_acttrust","text":"ActTrust data files may uneven epochs intervals due small drifts device's internal clock. irregularities can affect analyses. Setting regularize = TRUE read_acttrust() detect correct issues regularizing time intervals. Regularization performed clear epoch periodicity found. process, values within epoch aggregated: numeric variables averaged, categorical integer variables assigned frequent value (mode). gaps time series filled NA, corresponding state set 9.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/read_acttrust.html","id":"offwrist-data","dir":"Reference","previous_headings":"","what":"Offwrist data","title":"Read, tidy, and validate an ActTrust file ‚Äî read_acttrust","text":"read_acttrust() convert offwrist data (state == 4) missing values (NA). data points remain classified offwrist state variable.","code":""},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/read_acttrust.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read, tidy, and validate an ActTrust file ‚Äî read_acttrust","text":"","code":"get_raw_data(\"acttrust.txt\") |> read_acttrust() #> ‚Ñπ Reading data #> ‚úî Reading data [55ms] #>  #> ‚Ñπ Tidying data #> ‚úî Tidying data [54ms] #>  #> ‚Ñπ Validating data #> ‚úî Validating data [698ms] #>  #> # A tsibble: 1,441 x 17 [1m] <UTC> #>    timestamp             pim   tat   zcm orientation wrist_temperature #>    <dttm>              <dbl> <dbl> <dbl>       <dbl>             <dbl> #>  1 2021-04-24 04:14:00  7815   608   228           0              26.9 #>  2 2021-04-24 04:15:00  2661   160    64           0              27.2 #>  3 2021-04-24 04:16:00  3402   243    80           0              27.7 #>  4 2021-04-24 04:17:00  4580   317   125           0              27.9 #>  5 2021-04-24 04:18:00  2624   255    33           0              28.0 #>  6 2021-04-24 04:19:00  3929   246   105           0              28.1 #>  7 2021-04-24 04:20:00  5812   369   171           0              28.2 #>  8 2021-04-24 04:21:00  3182   270    54           0              28.4 #>  9 2021-04-24 04:22:00  6362   373   189           0              28.6 #> 10 2021-04-24 04:23:00  2621   159    64           0              28.7 #> # ‚Ñπ 1,431 more rows #> # ‚Ñπ 11 more variables: external_temperature <dbl>, light <dbl>, #> #   ambient_light <dbl>, red_light <dbl>, green_light <dbl>, blue_light <dbl>, #> #   ir_light <dbl>, uva_light <dbl>, uvb_light <dbl>, event <dbl>, state <dbl>"},{"path":"https://danielvartan.github.io/actverse/reference/spectrogram.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a spectrogram plot based on Sokolove & Bushell's periodogram ‚Äî spectrogram","title":"Create a spectrogram plot based on Sokolove & Bushell's periodogram ‚Äî spectrogram","text":"spectrogram() computes series Sokolove & Bushell's (1978) \\(\\chi^{2}\\) periodograms visualize changes periodicities across intervals within tsibble object. function enables detection temporal variations rhythmicity generating periodograms consecutive overlapping time windows. See periodogram() function details periodogram computation.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/spectrogram.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a spectrogram plot based on Sokolove & Bushell's periodogram ‚Äî spectrogram","text":"","code":"spectrogram(   data,   col,   p_unit = \"minutes\",   p_min = 1000,   p_max = 2500,   p_step = 1,   int_unit = \"days\",   int_n = 7,   int_step = 720,   alpha = 0.05,   print = TRUE )"},{"path":"https://danielvartan.github.io/actverse/reference/spectrogram.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a spectrogram plot based on Sokolove & Bushell's periodogram ‚Äî spectrogram","text":"data tsibble object. col string indicating column data use. p_unit (optional) string indicating time unit index must aggregated. aggregating index, change time series interval , consequently, p periods. Valid values : ‚Äúseconds‚Äù, ‚Äúminutes‚Äù, ‚Äúhours‚Äù, ‚Äúdays‚Äù, ‚Äúweeks‚Äù, ‚Äúmonths‚Äù, ‚Äúquarters‚Äù, ‚Äúyears‚Äù) (default: \"minutes\"). p_min (optional) integer number indicating minimum period (\\(p\\)), unit p_unit, compute test (e.g., p_unit = \"minutes\", p_min = 1 means period 1 minute) (default: 1000). p_max (optional) integer number indicating maximum period (\\(p\\)), unit p_unit, compute test (default: 2500). p_step (optional) integer number indicating range values must skipped computing one test next (e.g., p_min == 1, p_max == 7, p_step == 2, test periods 1, 3, 5, 7) (default: 1). int_unit (optional) string indicating interval unit. Valid values : ‚Äúseconds‚Äù, ‚Äúminutes‚Äù, ‚Äúhours‚Äù, ‚Äúdays‚Äù, ‚Äúweeks‚Äù, ‚Äúmonths‚Äù, ‚Äúquarters‚Äù, ‚Äúyears‚Äù) (default: \"days\"). int_n (optional) integer number indicating size intervals, unit int_unit (default: 7). int_step (optional) integer number indicating amount epochs advance end interval (default: 720). alpha (optional) number, 0 1, indicating significant level required peaks. spectrogram plot shows significant peaks (default: 0.05). print (optional) logical value indicating function must print spectrogram plot (default: TRUE).","code":""},{"path":"https://danielvartan.github.io/actverse/reference/spectrogram.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a spectrogram plot based on Sokolove & Bushell's periodogram ‚Äî spectrogram","text":"list object following elements: periodograms: list object periodogram data interval. See periodogram() learn list elements. spectrogram: ggplot object heat map chart showing one periodogram per line (q_p) (y) period sequence (p_seq) (x).","code":""},{"path":"https://danielvartan.github.io/actverse/reference/spectrogram.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Create a spectrogram plot based on Sokolove & Bushell's periodogram ‚Äî spectrogram","text":"Sokolove, P. G., & Bushell, W. N. (1978). chi square periodogram: utility analysis circadian rhythms. Journal Theoretical Biology, 72(1), 131-160. doi:10.1016/0022-5193(78)90022-x .","code":""},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/spectrogram.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a spectrogram plot based on Sokolove & Bushell's periodogram ‚Äî spectrogram","text":"","code":"if (curl::has_internet()) {   file <- get_from_zenodo(     doi = \"10.5281/zenodo.4898822\",     dir = tempdir(),     file = \"processed.txt\"   )    data <- read_acttrust(     file,     tz = \"America/Sao_Paulo\"   )    spec <- spectrogram(data, \"pim\") } #> ‚Ñπ Reading data #> ‚úî Reading data [240ms] #>  #> ‚Ñπ Tidying data #> ‚úî Tidying data [375ms] #>  #> ‚Ñπ Validating data #> ‚Ñπ Found 2 gap in the time series: 2021-04-26 03:14:00/2021-04-26 03:14:00 and 2021-05-01 17:34:00/2021-05-01 17:34:00 (showing up to a total of 5 values). #> ‚Ñπ Validating data #> ‚Ñπ Found 21 offwrist blocks in the time series. All values were set as NA. #> ‚Ñπ Validating data #> ‚úî Validating data [17.5s] #>  #> ! data[[col]] has missing values. Results may diverge. #> Computing periodograms ‚ñ†‚ñ†                                 3% | ETA: 30s #> Computing periodograms ‚ñ†‚ñ†‚ñ†‚ñ†                               9% | ETA: 31s #> Computing periodograms ‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†                            17% | ETA: 26s #> Computing periodograms ‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†                         28% | ETA: 23s #> Computing periodograms ‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†                      38% | ETA: 19s #> Computing periodograms ‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†                   47% | ETA: 17s #> Computing periodograms ‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†                57% | ETA: 13s #> Computing periodograms ‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†             66% | ETA: 11s #> Computing periodograms ‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†          76% | ETA:  8s #> Computing periodograms ‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†       86% | ETA:  4s #> Computing periodograms ‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†     95% | ETA:  2s #> Computing periodograms ‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†  100% | ETA:  0s #>"},{"path":"https://danielvartan.github.io/actverse/reference/sri.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Phillips et al.'s Sleep Regularity Index (SRI) ‚Äî sri","title":"Compute Phillips et al.'s Sleep Regularity Index (SRI) ‚Äî sri","text":"sri() computes Sleep Regularity Index (SRI) described Phillips et al. (2017) tsibble object, quantifying consistency sleep/wake patterns across days.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/sri.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Phillips et al.'s Sleep Regularity Index (SRI) ‚Äî sri","text":"","code":"sri(   data,   state_col = \"state\",   sleeping_states = c(1, 2),   awake_states = 0,   min_data = 0.75 )"},{"path":"https://danielvartan.github.io/actverse/reference/sri.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Phillips et al.'s Sleep Regularity Index (SRI) ‚Äî sri","text":"data tsibble object. state_col (optional) string indicating column data states/categories data (default: \"state\"). sleeping_states (optional) integerish vector indicating state values considered sleeping states (default: c(1, 2)). awake_states (optional) integerish vector indicating states values considered awake states (default: 0). min_data (optional) number indicating minimum proportion non-missing values agreements required compute SRI time point. SRI computed proportion non-missing values greater equal threshold. useful avoid computing SRI insufficient data. Values threshold result SRI NA. Note first agreement value always NA previous day comparison, hence treated missing data. (default: 0.75).","code":""},{"path":"https://danielvartan.github.io/actverse/reference/sri.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Phillips et al.'s Sleep Regularity Index (SRI) ‚Äî sri","text":"tsibble object following columns: time: hms object representing time day. state: list factor sleep state time point (\"Sleeping\" \"Awake\"). previous_state: list factor sleep state time previous day. agreement: list logical vector indicating whether state matches previous day's state. sri: numeric vector representing Sleep Regularity Index (SRI). See Details section learn SRI computed. valid_data: numeric vector representing proportion non-missing values agreement column, .e., amount information available compute SRI time point.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/sri.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute Phillips et al.'s Sleep Regularity Index (SRI) ‚Äî sri","text":"Sleep Regularity Index (SRI) measure sleep regularity, quantifies consistency sleep patterns time. calculated comparing state sleep given time day state sleep time previous day. index computed follows: time point, compare sleep state (Sleeping/Awake) state time previous day. Calculate proportion time points states match (.e., agreement). Scale proportion range -100 100: score 100 indicates perfectly regular sleep/wake patterns, score 0 indicates completely random patterns. Note 1: SRI values 0 theoretically possible (e.g., cases highly irregular patterns alternating 24-hour periods sleep wake), occurrences extremely rare practice. Note 2: first agreement value always NA previous day comparison. NA treated missing data simply reflects absence reference point, excluded calculation valid data. See Phillips et al. (2017) learn SRI applications sleep research.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/sri.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Compute Phillips et al.'s Sleep Regularity Index (SRI) ‚Äî sri","text":"Phillips, . J. K., Clerx, W. M., O‚ÄôBrien, C. S., Sano, ., Barger, L. K., Picard, R. W., Lockley, S. W., Klerman, E. B., & Czeisler, C. . (2017). Irregular sleep/wake patterns associated poorer academic performance delayed circadian sleep/wake timing. Scientific Reports, 7(1), 3216. doi:10.1038/s41598-017-03171-4","code":""},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/sri.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute Phillips et al.'s Sleep Regularity Index (SRI) ‚Äî sri","text":"","code":"library(curl) library(dplyr) #>  #> Attaching package: ‚Äòdplyr‚Äô #> The following objects are masked from ‚Äòpackage:stats‚Äô: #>  #>     filter, lag #> The following objects are masked from ‚Äòpackage:base‚Äô: #>  #>     intersect, setdiff, setequal, union library(ggplot2) library(scales)  if (has_internet()) {   file <- get_from_zenodo(     doi = \"10.5281/zenodo.4898822\",     dir = tempdir(),     file = \"processed.txt\"   )    data <- read_acttrust(file, tz = \"America/Sao_Paulo\")   sri_data <- data |> sri()    sri_data |> print()    sri_data |> pull(sri) |> summary() |> print()    data |>     actogram(       col = \"pim\",       days = -1,       latitude = -23.55065,       longitude = -46.63338,       double_plot = TRUE     )    sri_data |>     ggplot(ggplot2::aes(x = time, y = sri)) +     geom_smooth(color = \"#FC2913\") +     labs(       x = \"Time of day (Hour)\",       y = \"Sleep Regularity Index (SRI)\"     ) +     scale_x_time(       breaks = breaks_width(\"6 hours\"),       labels = label_time(\"%-H\") # Use \"%#H\" for Windows     ) +     scale_y_continuous(limits = c(0, NA)) +     actverse:::get_actverse_theme() } #> ‚Ñπ Reading data #> ‚úî Reading data [235ms] #>  #> ‚Ñπ Tidying data #> ‚úî Tidying data [399ms] #>  #> ‚Ñπ Validating data #> ‚Ñπ Found 2 gap in the time series: 2021-04-26 03:14:00/2021-04-26 03:14:00 and 2021-05-01 17:34:00/2021-05-01 17:34:00 (showing up to a total of 5 values). #> ‚Ñπ Validating data #> ‚Ñπ Found 21 offwrist blocks in the time series. All values were set as NA. #> ‚Ñπ Validating data #> ‚úî Validating data [17.9s] #>  #> # A tsibble: 1,440 x 6 [1m] #>    time   state      previous_state agreement    sri valid_data #>    <time> <list>     <list>         <list>     <dbl>      <dbl> #>  1 00'00\" <fct [36]> <fct [36]>     <lgl [36]>  77.1          1 #>  2 01'00\" <fct [36]> <fct [36]>     <lgl [36]>  77.1          1 #>  3 02'00\" <fct [36]> <fct [36]>     <lgl [36]>  77.1          1 #>  4 03'00\" <fct [36]> <fct [36]>     <lgl [36]>  77.1          1 #>  5 04'00\" <fct [36]> <fct [36]>     <lgl [36]>  77.1          1 #>  6 05'00\" <fct [36]> <fct [36]>     <lgl [36]>  77.1          1 #>  7 06'00\" <fct [36]> <fct [36]>     <lgl [36]>  77.1          1 #>  8 07'00\" <fct [36]> <fct [36]>     <lgl [36]>  77.1          1 #>  9 08'00\" <fct [36]> <fct [36]>     <lgl [36]>  77.1          1 #> 10 09'00\" <fct [36]> <fct [36]>     <lgl [36]>  77.1          1 #> # ‚Ñπ 1,430 more rows #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.  #>  -2.857  60.000  71.429  68.076  86.667  94.286   #> `geom_smooth()` using method = 'gam' and formula = 'y ~ s(x, bs = \"cs\")' #> Warning: Removed 6 rows containing non-finite outside the scale range (`stat_smooth()`)."},{"path":"https://danielvartan.github.io/actverse/reference/state_prop.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the proportion of time spent in a specific state ‚Äî state_prop","title":"Compute the proportion of time spent in a specific state ‚Äî state_prop","text":"state_prop() computes proportion time spent one specified states tsibble object. quantifies fraction time day (epoch) subject spends target state(s), sleeping awake, across observed period.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/state_prop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the proportion of time spent in a specific state ‚Äî state_prop","text":"","code":"state_prop(data, state_col = \"state\", state_values = c(1, 2))"},{"path":"https://danielvartan.github.io/actverse/reference/state_prop.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the proportion of time spent in a specific state ‚Äî state_prop","text":"data tsibble object. state_col (optional) string indicating column data states data (default: \"state\"). state_values (optional) integerish vector indicating state values considered target state(s) calculating proportion (default: c(1, 2)).","code":""},{"path":"https://danielvartan.github.io/actverse/reference/state_prop.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the proportion of time spent in a specific state ‚Äî state_prop","text":"tsibble object following columns: time: hms object representing time day. state: list factor state time point, indicating whether target state . prop: numeric vector representing proportion time spent target state time point. value calculated number occurrences target state divided total number observations time point.","code":""},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/state_prop.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute the proportion of time spent in a specific state ‚Äî state_prop","text":"","code":"library(curl) library(dplyr) library(ggplot2) library(scales)  if (has_internet()) {   file <- get_from_zenodo(     doi = \"10.5281/zenodo.4898822\",     dir = tempdir(),     file = \"processed.txt\"   )    data <- read_acttrust(file, tz = \"America/Sao_Paulo\")   state_prop_data <- data |> state_prop() # Sleeping + Resting states    state_prop_data |> print()    state_prop_data |> pull(prop) |> summary() |> print()    data |>     actogram(       col = \"pim\",       days = -1,       latitude = -23.55065,       longitude = -46.63338,       double_plot = TRUE     )    state_prop_data |>     mutate(per = prop * 100) |>     ggplot(ggplot2::aes(x = time, y = per)) +     geom_smooth(color = \"#FC2913\") +     labs(       x = \"Time of day (Hour)\",       y = \"Percentage of time asleep (%)\",     ) +     scale_x_time(       breaks = breaks_width(\"6 hours\"),       labels = label_time(\"%-H\") # Use \"%#H\" for Windows     ) +     scale_y_continuous(limits = c(NA, 100)) +     actverse:::get_actverse_theme() } #> ‚Ñπ Reading data #> ‚úî Reading data [244ms] #>  #> ‚Ñπ Tidying data #> ‚úî Tidying data [387ms] #>  #> ‚Ñπ Validating data #> ‚Ñπ Found 2 gap in the time series: 2021-04-26 03:14:00/2021-04-26 03:14:00 and 2021-05-01 17:34:00/2021-05-01 17:34:00 (showing up to a total of 5 values). #> ‚Ñπ Validating data #> ‚Ñπ Found 21 offwrist blocks in the time series. All values were set as NA. #> ‚Ñπ Validating data #> ‚úî Validating data [18.5s] #>  #> # A tsibble: 1,440 x 3 [1m] #>    time   state       prop #>    <time> <list>     <dbl> #>  1 00'00\" <fct [36]> 0.167 #>  2 01'00\" <fct [36]> 0.167 #>  3 02'00\" <fct [36]> 0.167 #>  4 03'00\" <fct [36]> 0.167 #>  5 04'00\" <fct [36]> 0.167 #>  6 05'00\" <fct [36]> 0.167 #>  7 06'00\" <fct [36]> 0.167 #>  8 07'00\" <fct [36]> 0.167 #>  9 08'00\" <fct [36]> 0.167 #> 10 09'00\" <fct [36]> 0.167 #> # ‚Ñπ 1,430 more rows #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.  #> 0.02778 0.08333 0.25000 0.31947 0.61111 0.69444   #> `geom_smooth()` using method = 'gam' and formula = 'y ~ s(x, bs = \"cs\")'"},{"path":"https://danielvartan.github.io/actverse/reference/write_acttrust.html","id":null,"dir":"Reference","previous_headings":"","what":"Write a tsibble to a readable ActTrust file ‚Äî write_acttrust","title":"Write a tsibble to a readable ActTrust file ‚Äî write_acttrust","text":"write_acttrust() allows adapt write tsibble object readable ActTrust file. Note data must conform predefined structure. See ?acttrust learn . ActTrust trademark Condor Instruments Ltda.","code":""},{"path":"https://danielvartan.github.io/actverse/reference/write_acttrust.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write a tsibble to a readable ActTrust file ‚Äî write_acttrust","text":"","code":"write_acttrust(data, file, delim = \";\", header = NULL)"},{"path":"https://danielvartan.github.io/actverse/reference/write_acttrust.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write a tsibble to a readable ActTrust file ‚Äî write_acttrust","text":"data tsibble object POSIXt index. ActTrust software deals type index. file string file path write . delim (optional) string indicating delimiter must used separate values. Valid delimiters : \";\" \"\\t\" (default: \";\"). header (optional) string indicating path file (usually raw data file) ActTrust header. mandatory, ActTrust software can read files without (default: NULL).","code":""},{"path":"https://danielvartan.github.io/actverse/reference/write_acttrust.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write a tsibble to a readable ActTrust file ‚Äî write_acttrust","text":"invisible NULL. function used side effect.","code":""},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/write_acttrust.html","id":"na-values","dir":"Reference","previous_headings":"","what":"NA values","title":"Write a tsibble to a readable ActTrust file ‚Äî write_acttrust","text":"write_acttrust() transform NA value 0. ActTrust software deals numeric values.","code":""},{"path":[]},{"path":"https://danielvartan.github.io/actverse/reference/write_acttrust.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Write a tsibble to a readable ActTrust file ‚Äî write_acttrust","text":"","code":"library(readr) #>  #> Attaching package: ‚Äòreadr‚Äô #> The following object is masked from ‚Äòpackage:scales‚Äô: #>  #>     col_factor #> The following object is masked from ‚Äòpackage:curl‚Äô: #>  #>     parse_date  acttrust #> # A tsibble: 1,441 x 17 [1m] <America/Sao_Paulo> #>    timestamp             pim   tat   zcm orientation wrist_temperature #>    <dttm>              <dbl> <dbl> <dbl>       <dbl>             <dbl> #>  1 2021-04-24 04:14:00  7815   608   228           0              26.9 #>  2 2021-04-24 04:15:00  2661   160    64           0              27.2 #>  3 2021-04-24 04:16:00  3402   243    80           0              27.7 #>  4 2021-04-24 04:17:00  4580   317   125           0              27.9 #>  5 2021-04-24 04:18:00  2624   255    33           0              28.0 #>  6 2021-04-24 04:19:00  3929   246   105           0              28.1 #>  7 2021-04-24 04:20:00  5812   369   171           0              28.2 #>  8 2021-04-24 04:21:00  3182   270    54           0              28.4 #>  9 2021-04-24 04:22:00  6362   373   189           0              28.6 #> 10 2021-04-24 04:23:00  2621   159    64           0              28.7 #> # ‚Ñπ 1,431 more rows #> # ‚Ñπ 11 more variables: external_temperature <dbl>, light <dbl>, #> #   ambient_light <dbl>, red_light <dbl>, green_light <dbl>, blue_light <dbl>, #> #   ir_light <dbl>, uva_light <dbl>, uvb_light <dbl>, event <dbl>, state <dbl>  file <- tempfile()  write_acttrust(   data = acttrust,   file = file,   header = get_raw_data(\"acttrust.txt\") ) #> ‚Ñπ Adapting data #> ‚úî Adapting data [35ms] #>  #> ‚Ñπ Adding header #> ‚úî Adding header [19ms] #>  #> ‚Ñπ Writing data #> ‚úî Writing data [48ms] #>   readr::read_lines(file, n_max = 30) #>  [1] \"+-------------+ Condor Instruments Report +-------------+\"                                                                                                                 #>  [2] \"SOFTWARE_VERSION : 1.0.17\"                                                                                                                                                 #>  [3] \"SUBJECT_NAME : \"                                                                                                                                                           #>  [4] \"SUBJECT_GENDER : Male\"                                                                                                                                                     #>  [5] \"SUBJECT_DATE_OF_BIRTH : 20/09/1985\"                                                                                                                                        #>  [6] \"SUBJECT_DESCRIPTION : \"                                                                                                                                                    #>  [7] \"DEVICE_ID : 323\"                                                                                                                                                           #>  [8] \"DEVICE_MODEL : ActTrust1\"                                                                                                                                                  #>  [9] \"HARDWARE_VERSION : 3.1\"                                                                                                                                                    #> [10] \"FIRMWARE_VERSION : 3.7\"                                                                                                                                                    #> [11] \"MEMORY_SIZE : 3987712\"                                                                                                                                                     #> [12] \"LOG_SIZE : 2296573\"                                                                                                                                                        #> [13] \"MEMORY_USAGE : 57.59 %\"                                                                                                                                                    #> [14] \"BATTERY_VOLTAGE : 4.21875\"                                                                                                                                                 #> [15] \"ERROR_FLAG : 0\"                                                                                                                                                            #> [16] \"ERROR_CODE : 0\"                                                                                                                                                            #> [17] \"POWER_DOWN_FLAG : 1\"                                                                                                                                                       #> [18] \"TAT_THRESHOLD : 1024\"                                                                                                                                                      #> [19] \"ORIENTATION : 0\"                                                                                                                                                           #> [20] \"MODE : PIM/TAT/ZCM\"                                                                                                                                                        #> [21] \"INTERVAL : 60\"                                                                                                                                                             #> [22] \"DATA_CORRECTION : 1\"                                                                                                                                                       #> [23] \"DATA_CORRECTION_DESCRIPTION : Lacuna tratada nos dados.\"                                                                                                                   #> [24] \"DATE_TIME : 07/06/2021 07:00:00\"                                                                                                                                           #> [25] \"+-------------------------------------------------------+\"                                                                                                                 #> [26] \"DATE/TIME;MS;EVENT;TEMPERATURE;EXT TEMPERATURE;ORIENTATION;PIM;PIMn;TAT;TATn;ZCM;ZCMn;LIGHT;AMB LIGHT;RED LIGHT;GREEN LIGHT;BLUE LIGHT;IR LIGHT;UVA LIGHT;UVB LIGHT;STATE\" #> [27] \"24/04/2021 04:14:00;0;1;26.87;24.62;0;7815;130.25;608;10.133333333333333;228;3.8;3.58;1.45;0.57;0.66;0.24;0.17;0;0;0\"                                                      #> [28] \"24/04/2021 04:15:00;0;0;27.18;25.06;0;2661;44.35;160;2.6666666666666665;64;1.0666666666666667;5.23;2.12;0.86;0.95;0.36;0.25;0;0;0\"                                         #> [29] \"24/04/2021 04:16:00;0;0;27.68;25.5;0;3402;56.7;243;4.05;80;1.3333333333333333;3.93;1.59;0.64;0.71;0.26;0.2;0;0;0\"                                                          #> [30] \"24/04/2021 04:17:00;0;0;27.86;25.75;0;4580;76.33333333333333;317;5.283333333333333;125;2.0833333333333335;4.14;1.68;0.67;0.75;0.28;0.2;0;0;0\""},{"path":"https://danielvartan.github.io/actverse/news/index.html","id":"actverse-development-version","dir":"Changelog","previous_headings":"","what":"actverse (development version)","title":"actverse (development version)","text":"read_acttrust() updated handle special characters input files robustly. now reads file content, removes special characters, writes temporary file processing. ensures function can handle files special characters without errors. sri() now min_data argument, specifies minimum proportion non-missing values required compute SRI time point. proportion non-missing values threshold, SRI set NA time point. helps avoid computing SRI insufficient data. Note first agreement value always NA previous day comparison, hence treated missing data. sri() now returns valid_data column, indicates proportion non-missing values agreement column time point. provides additional information data quality used compute SRI. sri() now different default values sleeping_states awake_states. new defaults sleeping_states = c(1, 2) awake_states = 0. previous defaults sleeping_states = 1 awake_states = c(0, 2), considered resting states awake, differing way index originally computed. state_prop() now default value c(1, 2) state_values, considers sleeping resting states (Condor Instruments actigraphy data) target states calculating proportion. previous default 1, considered sleeping state.","code":""},{"path":"https://danielvartan.github.io/actverse/news/index.html","id":"actverse-010","dir":"Changelog","previous_headings":"","what":"actverse 0.1.0","title":"actverse 0.1.0","text":"First release. üéâ","code":""},{"path":"https://danielvartan.github.io/actverse/news/index.html","id":"actverse-0009000","dir":"Changelog","previous_headings":"","what":"actverse 0.0.0.9000","title":"actverse 0.0.0.9000","text":"Added NEWS.md file track changes package.","code":""}]
